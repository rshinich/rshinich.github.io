<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta property="og:type" content="website">
<meta property="og:title" content="zhangzr's blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="zhangzr's blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="zhangzr's blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> zhangzr's blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?e4d9b18c740ec1cd356179a5fc16e0ba";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">zhangzr's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            ç«™ç‚¹åœ°å›¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            å…¬ç›Š404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/21/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾ç¬”è®°ï¼ˆ6ï¼‰-å¤šæ€ä¸å¤šä¸ªMVCçš„ä½¿ç”¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhangzr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhangzr's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/21/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾ç¬”è®°ï¼ˆ6ï¼‰-å¤šæ€ä¸å¤šä¸ªMVCçš„ä½¿ç”¨/" itemprop="url">
                  æ–¯å¦ç¦å¤§å­¦ioså…¬å¼€è¯¾ç¬”è®°ï¼ˆ6ï¼‰--å¤šæ€ä¸å¤šä¸ªMVCçš„ä½¿ç”¨
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-05-21T22:23:08+08:00">
                2017-05-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>è¿™èŠ‚è¯¾ä¸»è¦ä»‹ç»äº†å¤šæ€çš„æ¦‚å¿µå’Œä½¿ç”¨ï¼Œè¿˜æœ‰å¤šä¸ªMVCä½¿ç”¨ï¼Œåœ¨è¿™ä¹‹ä¸­ä»‹ç»äº†UINavigationControllerå’ŒUITabbarControllerçš„ä½¿ç”¨ã€‚</p>
<h2 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h2><p>å¤šæ€æ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­ç±»çš„ä¸‰å¤§ç‰¹å¾ä¹‹ä¸€ï¼Œå¦å¤–ä¸¤ä¸ªæ˜¯ç»§æ‰¿å’Œå°è£…ã€‚objective-cæ˜¯ä¸€ä¸ªé¢å‘å¯¹è±¡çš„å¼€å‘è¯­è¨€ï¼Œæ‰€ä»¥äº†è§£å¦‚ä½•ä½¿ç”¨å¤šæ€æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚</p>
<p>åœ¨å°†å¤šæ€çš„æ—¶å€™æœ‰ä¸€ä¸ªæ¦‚å¿µä¸å¾—ä¸æâ€”æŠ½è±¡ã€‚</p>
<h3 id="æŠ½è±¡"><a href="#æŠ½è±¡" class="headerlink" title="æŠ½è±¡"></a>æŠ½è±¡</h3><p>æŠ½è±¡è¡¨ç¤ºè¿™ä¸ªç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ä½¿ç”¨ï¼Œä»–åªèƒ½ç”¨äºä½œä¸ºå…·ä½“ç±»çš„è¶…ç±»ã€‚ç®€å•æ¥è¯´æŠ½è±¡å°±ç›¸å½“äºæ¦‚å¿µè½¦ã€‚æˆ‘ä»¬æŠŠè½¦å…·ä½“åŒ–ç»™ä»–å››ä¸ªè½®å­ï¼Œä»–å¯èƒ½å°±æ˜¯æ±½è½¦ğŸš—ï¼Œç»™ä»–ä¸¤ä¸ªè½®å­ï¼Œä»–å¯èƒ½å°±æ˜¯è‡ªè¡Œè½¦ğŸš²ã€‚è¿™å°±æ˜¯æŠ½è±¡ã€‚</p>
<h3 id="å¦‚ä½•å®ç°"><a href="#å¦‚ä½•å®ç°" class="headerlink" title="å¦‚ä½•å®ç°"></a>å¦‚ä½•å®ç°</h3><p>è¿™é‡Œæˆ‘ä»¬å¯¹ä¹‹å‰å†™çš„Machismoçº¸ç‰Œé…å¯¹æ¸¸æˆè¿›è¡Œäº†ä¿®æ”¹ï¼Œä¸äº†è§£è¿™ä¸ªæ¸¸æˆçš„è¯·å…ˆçœ‹<a href="http://zhangzr.cn/2017/05/07/%E6%96%AF%E5%9D%A6%E7%A6%8F%E5%A4%A7%E5%AD%A6iOS%E5%85%AC%E5%BC%80%E8%AF%BE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%883%EF%BC%89-%E5%AE%8C%E6%88%90%E7%BF%BB%E7%BA%B8%E7%89%8C%E6%B8%B8%E6%88%8F/" target="_blank" rel="external">è¿™é‡Œ</a>,ä½¿å¾—å®ƒå¯ä»¥å¯¹ä»»ä½•ç§ç±»çš„å¡ç‰Œè¿›è¡Œé…å¯¹æ¸¸æˆã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬ä¹‹å‰çš„ä»£ç æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">- (CardMatchingGame *)game</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span>(!_game)</div><div class="line">    &#123;</div><div class="line">        _game = <span class="string">[[CardMatchingGame alloc] initWithCardCount:[self.cardButtons count] usingDeck:[self createDeck]]</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> _game;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (Deck *)createDeck</div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">[[PlayingCardDeck alloc] init];    </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„<code>return [[PlayingCardDeck alloc] init];</code>ä»£è¡¨æˆ‘ä»¬åªä¼šè¿”å›<code>PlayingCardDeck</code>è¿™ä¸ªç‰Œå †ä¸­çš„æ’ï¼Œå¦‚æœæƒ³è¦æŠŠä»–æŠ½è±¡ï¼Œæˆ‘ä»¬é¦–å…ˆè¦æŠŠè¿™é‡Œæ”¹æˆ<code>return nil;</code>ã€‚è¿™æ ·ä»–å°±å˜æˆäº†ä¸€ä¸ªæŠ½è±¡ç±»ã€‚</p>
<p>ç„¶åæˆ‘ä»¬å°†<code>- (Deck *)createDeck;</code>è¿™ä¸ªæ–¹æ³•æ”¾ç½®åˆ°.hå…¬æœ‰æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”å†™ä¸€äº›æ³¨é‡Šæ¥è¯´æ˜ä»–å°±æ˜¯è¿™ä¸ªæŠ½è±¡ç±»å…·ä½“åŒ–æ—¶æ‰€éœ€è¦ç”¨åˆ°çš„æ–¹æ³•ã€‚</p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ç”¨æ¥è¿”å›ä¸åŒç§ç±»çš„å¡ç‰Œ</span></div><div class="line">- <span class="comment">(Deck *)</span>createDeck;       <span class="comment">//abstract</span></div></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬æ–°å»ºä¸€ä¸ªcontrollerç»§æ‰¿ä¹‹å‰æŠ½è±¡å¥½çš„æ§åˆ¶å™¨ï¼Œç„¶åé‡å†™<code>createDeck</code>æ–¹æ³•ï¼Œè¿”å›æ­£ç¡®çš„å¡ç‰Œï¼Œå°±å®Œæˆäº†æˆ‘ä»¬çš„å¤šæ€ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå¾ˆå¤šæ§åˆ¶å™¨è¿”å›ä¸åŒçš„å¡ç‰Œç±»å‹ï¼Œå¹¶ä¸”ä½¿ç”¨åŒä¸€å¥—é€»è¾‘è¿›è¡Œæ¸¸æˆã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">PlayingCardViewController</span> : <span class="title">ViewController</span></span></div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">"PlayingCardViewController.h"</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"PlayingCardDeck.h"</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">PlayingCardViewController</span> ()</span></div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">PlayingCardViewController</span></span></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)viewDidLoad</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">super</span> viewDidLoad];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">super</span> didReceiveMemoryWarning];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (Deck *)createDeck</div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> [[PlayingCardDeck alloc] init];</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>å¯¹äº†ï¼Œè¿™é‡Œè¦æ³¨æ„ï¼Œå¦‚æœä½ æ˜¯ä½¿ç”¨storyboardåˆ›å»ºçš„ç•Œé¢ï¼Œåˆ«å¿˜äº†æŠŠæ§åˆ¶å™¨çš„Classæ”¹æˆåˆšåˆšå…·ä½“åŒ–çš„ç±»ã€‚</p>
<h2 id="å¤šä¸ªMVCåä½œ"><a href="#å¤šä¸ªMVCåä½œ" class="headerlink" title="å¤šä¸ªMVCåä½œ"></a>å¤šä¸ªMVCåä½œ</h2><h3 id="UINavigationController"><a href="#UINavigationController" class="headerlink" title="UINavigationController"></a>UINavigationController</h3><p>UINavigationControllerå¯¼èˆªæ ï¼Œå®ƒæœ¬èº«ä¹Ÿç®—ä½œæ˜¯ä¸€ä¸ªMVCï¼Œä»–çš„viewå°±æ˜¯é¡¶éƒ¨çš„å¯¼èˆªæ ã€‚ä»–æœ‰ä¸€ä¸ªrootViewControllerä½œä¸ºè¾“å‡ºå£æŒ‡å‘å…¶ä»–MVCã€‚</p>
<p>å¯¼èˆªæ æ‹¥æœ‰ä¸€ä¸ªè‡ªå·±çš„å®¹å™¨ï¼Œè¿™ä¸ªå®¹å™¨ä½¿ç”¨çš„æ˜¯æ ˆç»“æ„ï¼Œæ¯æ¬¡æˆ‘ä»¬åœ¨æ‰§è¡Œè¿›å…¥ä¸‹ä¸€ä¸ªé¡µé¢æˆ–è€…è¿”å›åˆ°ä¸Šä¸€ä¸ªé¡µé¢çš„æ—¶å€™éƒ½æ˜¯ä¸€ä¸ªæ ˆç©ºé—´å‹å…¥å’Œå¼¹å‡ºçš„åŠŸèƒ½çš„æ‰§è¡Œã€‚</p>
<p>æ¯æ¬¡æˆ‘ä»¬å‹å…¥æ–°çš„MVCçš„æ—¶å€™ï¼Œç³»ç»Ÿéƒ½ä¼šä»storyboardç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œç„¶åæ˜¾ç¤ºå‡ºæ¥ã€‚è€Œå½“æˆ‘ä»¬å¼¹å‡ºçš„æ—¶å€™ï¼Œé¡µé¢æ¶ˆå¤±ï¼Œè¿™éƒ¨åˆ†ä¹Ÿä¼šè¢«é‡Šæ”¾æ‰ã€‚è¿™æ—¶å€™å¦‚æœä½ æœ‰éœ€è¦æŒä¹…åŒ–ä½¿ç”¨çš„æ•°æ®ï¼Œä½ å°±è¦æŠŠä»–ä¿å­˜èµ·æ¥ã€‚</p>
<h4 id="å¦‚ä½•å‹å…¥ä¸€ä¸ªMVC"><a href="#å¦‚ä½•å‹å…¥ä¸€ä¸ªMVC" class="headerlink" title="å¦‚ä½•å‹å…¥ä¸€ä¸ªMVC"></a>å¦‚ä½•å‹å…¥ä¸€ä¸ªMVC</h4><p>ç­”æ¡ˆæ˜¯ä½¿ç”¨<code>segue</code>ã€‚ä»–æ˜¯storyboardå’ŒXcodeä¹‹é—´å”¯ä¸€è”ç³»çš„åœ°æ–¹ï¼Œæˆ‘ä»¬é€šè¿‡<code>segue</code>çš„æ ‡ç¤ºç¬¦æ¥åˆ¤æ–­è·³åˆ°å“ªä¸€ä¸ªMVCã€‚</p>
<h4 id="å¦‚ä½•å¼¹å‡ºä¸€ä¸ªMVC"><a href="#å¦‚ä½•å¼¹å‡ºä¸€ä¸ªMVC" class="headerlink" title="å¦‚ä½•å¼¹å‡ºä¸€ä¸ªMVC"></a>å¦‚ä½•å¼¹å‡ºä¸€ä¸ªMVC</h4><p>é€šè¿‡æ–¹æ³•</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="section">[self.navigationController popViewControllerWithAnimated:YES]</span><span class="comment">;</span></div></pre></td></tr></table></figure>
<p>å°±å¯ä»¥å¼¹å‡ºå½“å‰çš„MVC</p>
<h4 id="å¦‚ä½•ä½¿ç”¨segue"><a href="#å¦‚ä½•ä½¿ç”¨segue" class="headerlink" title="å¦‚ä½•ä½¿ç”¨segue"></a>å¦‚ä½•ä½¿ç”¨segue</h4><p>æˆ‘ä»¬éœ€è¦è®©XcodeçŸ¥é“å½“æˆ‘è¦è°ƒåˆ°ä¸‹ä¸€ä¸ªé¡µé¢çš„æ—¶å€™æˆ‘é€‰æ‹©çš„æ˜¯ä»€ä¹ˆç±»å‹çš„ä¸œè¥¿ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦ä»æ—¥å†ä¸­çš„æœˆä»½è·³åˆ°æ—¥æœŸçš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“æˆ‘ç‚¹å‡»çš„æ˜¯å‡ å·çš„æ—¥æœŸã€‚</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)<span class="string">prepareForSegue:</span>(UIStroyboardSegue *)segue <span class="string">sender:</span> (id)sender</div><div class="line">&#123;</div><div class="line">  <span class="keyword">if</span> ([segue.identifier <span class="string">isEqualToString:</span>@<span class="string">"DoSomething"</span>])</div><div class="line">  &#123; </div><div class="line">      <span class="keyword">if</span> ([segue.destinationViewController <span class="string">isKindOfClass:</span>[DoSomethingVC <span class="class"><span class="keyword">class</span>]])&#123;</span></div><div class="line">      </div><div class="line">       DoSomethingVC *doVC = (DoSomethingVC *)segue.desitinationViewControllerï¼›</div><div class="line">       doVC.infoString = ...</div><div class="line">      &#125;</div><div class="line">      </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="å¤šä¸ªMVCåä½œçš„Demo"><a href="#å¤šä¸ªMVCåä½œçš„Demo" class="headerlink" title="å¤šä¸ªMVCåä½œçš„Demo"></a>å¤šä¸ªMVCåä½œçš„Demo</h2><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨åˆ°äº†ä¸ŠèŠ‚è¯¾ä½¿ç”¨çš„é¡¹ç›®Attributor.åœ¨è¿™æ¬¡çš„è¯¾ä¸­æˆ‘ä»¬ç»™ä»–æ·»åŠ ä¸€ä¸ªæ–°çš„MVCï¼Œå¹¶è¦æ±‚è¿™ä¸ªMVCå¯ä»¥è·å¾—ä¸Šä¸€ä¸ªMVCçš„æ•°æ®ç„¶ååˆ†æå‡ºæœ‰å¤šå°‘ä¸ªå­—ç¬¦æ”¹å˜äº†é¢œè‰²æˆ–è€…å¤šå°‘ä¸ªå­—ç¬¦æ·»åŠ äº†è¾¹æ¡†ã€‚</p>
<p>åœ¨storyboardä¸­æˆ‘ä»¬ä½¿ç”¨å¯¼èˆªæ æ¥æ§åˆ¶å„ä¸ªMVC</p>
<center><img src="/2017/05/21/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾ç¬”è®°ï¼ˆ6ï¼‰-å¤šæ€ä¸å¤šä¸ªMVCçš„ä½¿ç”¨/storyBoardScreen.png" alt="logo"></center>


<h3 id="è®¾ç½®é¡µé¢ä¼ å€¼"><a href="#è®¾ç½®é¡µé¢ä¼ å€¼" class="headerlink" title="è®¾ç½®é¡µé¢ä¼ å€¼"></a>è®¾ç½®é¡µé¢ä¼ å€¼</h3><p>å¦‚æœæƒ³è¦åˆ†æä¸Šä¸€ä¸ªé¡µé¢ä¸­è®¾ç½®å­—ç¬¦çš„é¢œè‰²ï¼Œå°±ä¸€å®šè¦æ‹¿åˆ°ä¸Šä¸€ä¸ªé¡µé¢ä¸­ä¿®æ”¹è¿‡çš„å­—ç¬¦ä¸²ä¿¡æ¯ã€‚è¿™é‡Œå°±è¦ç”¨åˆ°é¡µé¢ä¼ å€¼çš„åŠŸèƒ½ã€‚é¡µé¢ä¼ å€¼ç®€å•æ¥è¯´å°±æ˜¯åœ¨å¤´æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªå…¬æœ‰çš„å±æ€§ï¼Œç„¶ååœ¨è·³è½¬é¡µé¢çš„æ—¶å€™è®²å€¼ä¼ ç»™ä»–ã€‚</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="variable">@interface</span> <span class="attribute">TextStatsViewController </span>: UIViewController</div><div class="line"></div><div class="line"><span class="variable">@property</span> (nonatomic ,strong) NSAttributedString        *textToAnalyze;</div><div class="line"></div><div class="line"><span class="variable">@end</span></div></pre></td></tr></table></figure>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)<span class="string">prepareForSegue:</span>(UIStoryboardSegue *)segue <span class="string">sender:</span>(id)sender</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span>([segue.identifier <span class="string">isEqualToString:</span>@<span class="string">"Analyzer Text"</span>])</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>([segue.destinationViewController <span class="string">isKindOfClass:</span>[TextStatsViewController <span class="class"><span class="keyword">class</span>]])</span></div><div class="line">        &#123;</div><div class="line">            TextStatsViewController *tsvc = (TextStatsViewController *)segue.destinationViewController;</div><div class="line">            tsvc.textToAnalyze = self.body.textStorage;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="å¤„ç†å­—ç¬¦ä¸²"><a href="#å¤„ç†å­—ç¬¦ä¸²" class="headerlink" title="å¤„ç†å­—ç¬¦ä¸²"></a>å¤„ç†å­—ç¬¦ä¸²</h3><p>å¤„ç†å­—ç¬¦ä¸²ä¸»è¦æ˜¯æŠŠä¸Šä¸ªé¡µé¢ç©¿è¿‡æ¥çš„å­—ç¬¦ä¸²é€šè¿‡<code>NSRange</code>ä¸€ä¸ªä¸€ä¸ªå­—ç¬¦çš„åˆ†æï¼Œçœ‹çœ‹ä»–æœ‰æ²¡æœ‰ä½¿ç”¨é¢œè‰²å˜åŒ–æˆ–è€…è¾¹æ¡†å˜åŒ–ã€‚</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">- (NSAttributedString *)chaactersWithAttributtr:(NSString *)attributName</div><div class="line">&#123;</div><div class="line">    NSMutableAttributedString *characters = [[NSMutableAttributedString alloc] init];</div><div class="line">    </div><div class="line">    <span class="built_in">int</span> <span class="built_in">index</span> = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (<span class="built_in">index</span> &lt; [self.textToAnalyze length])</div><div class="line">    &#123;</div><div class="line">        NSRange <span class="built_in">range</span>;</div><div class="line">        </div><div class="line">        id <span class="keyword">value</span> = [self.textToAnalyze attribute:attributName atIndex:<span class="built_in">index</span> effectiveRange:&amp;<span class="built_in">range</span>];</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(<span class="keyword">value</span>)</div><div class="line">        &#123;</div><div class="line">            [characters  appendAttributedString:[self.textToAnalyze attributedSubstringFromRange:<span class="built_in">range</span>]];</div><div class="line">            <span class="built_in">index</span> = <span class="built_in">range</span>.length + <span class="built_in">range</span>.location;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            <span class="built_in">index</span>++;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> characters;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- (void)updateUI</div><div class="line">&#123;</div><div class="line">    self.colorfulCharachersLabel.text = [NSString stringWithFormat:@<span class="string">"%ld colorful characters"</span>,<span class="string">[[self chaactersWithAttributtr:NSForegroundColorAttributeName] length]]</span>;</div><div class="line">    </div><div class="line">    self.outletCharachersLabel.text = [NSString stringWithFormat:@<span class="string">"%ld outline characters"</span>,<span class="string">[[self chaactersWithAttributtr:NSStrokeWidthAttributeName] length]]</span>;</div><div class="line">       </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å†™å¥½ä¹‹åå°±å¯ä»¥ç»Ÿè®¡ä¸Šä¸€ä¸ªé¡µé¢çš„å­—ç¬¦ä¸²å•¦ã€‚</p>
<center><img src="/2017/05/21/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾ç¬”è®°ï¼ˆ6ï¼‰-å¤šæ€ä¸å¤šä¸ªMVCçš„ä½¿ç”¨/characterAttributtr.gif" alt="logo"></center>



          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/20/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾ç¬”è®°ï¼ˆ5ï¼‰-ViewControllerç”Ÿå‘½å‘¨æœŸå’Œé€šçŸ¥/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhangzr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhangzr's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/20/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾ç¬”è®°ï¼ˆ5ï¼‰-ViewControllerç”Ÿå‘½å‘¨æœŸå’Œé€šçŸ¥/" itemprop="url">
                  æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾ç¬”è®°ï¼ˆ5ï¼‰--ViewControllerç”Ÿå‘½å‘¨æœŸå’Œé€šçŸ¥
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-05-20T22:05:57+08:00">
                2017-05-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>è¿™ä¸€èŠ‚è¯¾ä¸»è¦è®²äº†ViewControllerçš„ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨è¯¾ç¨‹çš„ååŠéƒ¨åˆ†è¿˜è®²äº†é€šçŸ¥Notificationã€‚åœ¨è¿™ä¸¤ä¸ªçŸ¥è¯†ç‚¹ä¸­é—´ä½¿ç”¨äº†ä¸€ä¸ªå­—ç¬¦ä¸²å±æ€§è®¾ç½®çš„demoè¿›è¡ŒçŸ¥è¯†ç‚¹çš„è¿›ä¸€æ­¥è®¤è¯†ã€‚</p>
<h2 id="å­—ç¬¦ä¸²å±æ€§Demo"><a href="#å­—ç¬¦ä¸²å±æ€§Demo" class="headerlink" title="å­—ç¬¦ä¸²å±æ€§Demo"></a>å­—ç¬¦ä¸²å±æ€§Demo</h2><p>è¿™ä¸ªéƒ¨åˆ†ä¸»è¦é€šè¿‡åœ¨<code>UITexeView</code>ä¸Šæ˜¾ç¤ºä¸€æ®µæ–‡å­—ï¼Œç„¶ååœ¨Demoä¸­å±•ç¤ºäº†ä½¿ç”¨æŒ‰é’®è®¾ç½®æ–‡å­—çš„è½®å»“ä»¥åŠå»é™¤è½®å»“å’Œç‚¹å‡»æŒ‰é’®å°†æ–‡å­—è®¾ç½®ä¸ºæŒ‰é’®çš„èƒŒæ™¯è‰²ã€‚</p>
<center><img src="/2017/05/20/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾ç¬”è®°ï¼ˆ5ï¼‰-ViewControllerç”Ÿå‘½å‘¨æœŸå’Œé€šçŸ¥/Atttibutor.png" alt="logo"></center>

<p>è®¾ç½®å­—ç¬¦ä¸²å±æ€§ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ä½¿ç”¨å¯å˜å­—ç¬¦ä¸²<code>NSMutableAttributedString</code>ï¼Œä¿®æ”¹<code>UITextView</code>ä¸­çš„å­—ç¬¦ä¸²å±æ€§ï¼Œä¸€èˆ¬æ˜¯é€šè¿‡ä½¿ç”¨å®ƒçš„<code>textStrong</code>å±æ€§ï¼Œåœ¨å…¶ä¸­æ·»åŠ å±æ€§å’Œæ§åˆ¶çš„èŒƒå›´<code>NSRange</code>ã€‚</p>
<p>æ¯”å¦‚è¯´ä¿®æ”¹é€‰å®šå­—ç¬¦ä¸²çš„é¢œè‰²ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">IBAction</span>)changeBodySelectionColorToMatchBackgroundOfButton:(<span class="built_in">UIButton</span> *)sender</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">self</span>.body.textStorage addAttribute:<span class="built_in">NSForegroundColorAttributeName</span></div><div class="line">                                  value:sender.backgroundColor</div><div class="line">                                  range:<span class="keyword">self</span>.body.selectedRange];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿˜æœ‰ä½¿ç”¨<code>NSMutableAttributedString</code>æ¥è®¾ç½®ä¸€æ®µå­—ç¬¦ä¸²çš„å±æ€§</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSMutableAttributedString</span> *title =</div><div class="line">[[<span class="built_in">NSMutableAttributedString</span> alloc] initWithString:<span class="keyword">self</span>.outlineButton.currentTitle];</div><div class="line"></div><div class="line">[title addAttributes:@&#123;<span class="built_in">NSStrokeWidthAttributeName</span> : @<span class="number">3</span>,</div><div class="line">                       <span class="built_in">NSStrokeColorAttributeName</span> : <span class="keyword">self</span>.outlineButton.tintColor&#125;</div><div class="line">                                            range : <span class="built_in">NSMakeRange</span>(<span class="number">0</span>, [title length])];</div><div class="line"></div><div class="line">[<span class="keyword">self</span>.outlineButton setAttributedTitle:title forState:<span class="built_in">UIControlStateNormal</span>];</div></pre></td></tr></table></figure>
<p>å…¶ä¸­<code>NSForegroundColorAttributeName</code>å±æ€§ä¸ºè¦ä¿®æ”¹çš„å­—ç¬¦ä¸²å±æ€§ç±»å‹ï¼Œåè¾¹çš„<code>value</code>å³ä¸ºå¯¹åº”çš„å€¼ï¼Œ<code>range</code>åè·Ÿç€çš„æ˜¯éœ€è¦ä¿®æ”¹çš„èŒƒå›´ï¼Œæ¯”å¦‚ä¸Šè¾¹ä¾‹å­ä¸­éœ€è¦ä¿®æ”¹çš„å°±æ˜¯é€‰ä¸­çš„éƒ¨åˆ† <code>self.body.selectedRange</code>ã€‚</p>
<p>é™¤äº†é¢œè‰²ä¹‹å¤–ï¼ŒDemoä¸­è¿˜è®²äº†å…¶ä»–ä¸¤ç§å±æ€§ï¼Œ</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSForegroundColorAttributeName</span> <span class="comment">//å±æ€§å­—ç¬¦ä¸²å­—ç¬¦çš„é¢œè‰²</span></div><div class="line"><span class="built_in">NSStrokeColorAttributeName</span> <span class="comment">//å±æ€§å­—ç¬¦ä¸²å­—ç¬¦è½®å»“çš„é¢œè‰²</span></div><div class="line"><span class="built_in">NSStrokeWidthAttributeName</span> <span class="comment">//å±æ€§å­—ç¬¦ä¸²å­—ç¬¦è½®å»“çš„å®½åº¦</span></div></pre></td></tr></table></figure>
<h2 id="ViewController-ç”Ÿå‘½å‘¨æœŸ"><a href="#ViewController-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ViewController ç”Ÿå‘½å‘¨æœŸ"></a>ViewController ç”Ÿå‘½å‘¨æœŸ</h2><p>ViewControllerï¼ˆä»¥ä¸‹ç®€ç§°VCï¼‰çš„ç”Ÿå‘½å‘¨æœŸåœ¨iOSå¼€å‘ä¸­èµ·åˆ°äº†è‡³å…³é‡è¦çš„ä½œç”¨ï¼Œä»–ä¸»è¦æ˜¯åœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œåœ¨ä¸åŒçš„æ—¶æœŸä½¿ç”¨ä¸åŒçš„æ–¹æ³•ï¼Œç†è§£å¹¶åˆç†çš„æ ¹æ®VCçš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œä»£ç ç¼–å†™è®¾è®¡å¯ä»¥èµ·åˆ°å¾ˆå¥½çš„ä½œç”¨ã€‚</p>
<h3 id="viewDidLoad"><a href="#viewDidLoad" class="headerlink" title="viewDidLoad"></a>viewDidLoad</h3><p>åœ¨æ•´ä¸ªVCçš„åˆ›å»ºè¿‡ç¨‹ä¸­åªè°ƒç”¨ä¸€æ¬¡ï¼Œæ‰€ä»¥é€‚åˆæ”¾ç½®ä¸€äº›<code>init</code>æ–¹æ³•ã€‚</p>
<p>å› ä¸ºæ­¤æ—¶é¡µé¢ä¸­çš„å‡ ä½•æ–¹æ³•è¿˜æ²¡æœ‰ç¡®å®šä¸‹æ¥ï¼Œæ‰€ä»¥ä¸é€‚åˆå¤„ç†ä¸€äº›å‡ ä½•æ–¹é¢çš„ä¸œè¥¿ã€‚</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)viewDidLoad</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">super</span> viewDidLoad];</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="viewWillAppear"><a href="#viewWillAppear" class="headerlink" title="viewWillAppear"></a>viewWillAppear</h3><p>æ¯å½“VCå³å°†æ˜¾ç¤ºåœ¨å±å¹•ä¸Šç»™ç”¨æˆ·çœ‹ä¹‹å‰éƒ½ä¼šè°ƒç”¨çš„æ–¹æ³•ï¼Œæ‰€ä»¥å¯ä»¥è°ƒç”¨ä¸€äº›å‡ ä½•ç›¸å…³çš„ä»£ç è¿›è¡Œè®¾ç½®ï¼Œè€Œä¸”åªè¦è°ƒç”¨äº†<code>viewWillAppear</code>å°±ä¸€å®šä¼šæ˜¾ç¤ºç•Œé¢ç»™ç”¨æˆ·ã€‚</p>
<p>å› ä¸ºä¼šè°ƒç”¨å¤šæ¬¡ï¼Œæ‰€ä»¥å¹¶ä¸é€‚åˆæ”¾ç½®ä¸€äº›<code>init</code>æ–¹æ³•ã€‚</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)<span class="string">viewWillAppear:</span>(BOOL)animated</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">super</span> <span class="string">viewWillAppear:</span>animated];</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="viewWillDisappear"><a href="#viewWillDisappear" class="headerlink" title="viewWillDisappear"></a>viewWillDisappear</h3><p>å½“é¡µé¢å³å°†ç¦»å¼€å±å¹•æ—¶è°ƒç”¨ï¼Œå› ä¸ºå³å°†ç¦»å¼€ï¼Œæ‰€ä»¥å¯ä»¥åœ¨è¿™é‡Œè°ƒç”¨ä¸€äº›é”€æ¯å¯¹è±¡ã€åœæ­¢åŠ¨ç”»çš„æ–¹æ³•ï¼Œæ¥èŠ‚çœç³»ç»Ÿèµ„æºçš„å ç”¨ã€‚å¹¶ä¸”å¯ä»¥è¿›è¡Œä¸€äº›æ•°æ®æ–¹é¢çš„ä¿å­˜ã€‚</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)<span class="string">viewWillDisappear:</span>(BOOL)animated</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">super</span> <span class="string">viewWillDisappear:</span>animated];</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="viewDidAppear"><a href="#viewDidAppear" class="headerlink" title="viewDidAppear"></a>viewDidAppear</h3><p>å¯¹åº”<code>viewWillAppear</code>ï¼Œåœ¨é¡µé¢å‡ºç°åœ¨å±å¹•ä¸Šä¹‹åè°ƒç”¨ã€‚</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)<span class="string">viewDidAppear:</span>(BOOL)animated</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">super</span> <span class="string">viewDidAppear:</span>animated];</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="viewDidDisappear"><a href="#viewDidDisappear" class="headerlink" title="viewDidDisappear"></a>viewDidDisappear</h3><p>å¯¹åº”<code>viewWillDisappear</code>ï¼Œåœ¨é¡µé¢ä»å±å¹•ä¸Šç¦»å¼€åè°ƒç”¨</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)<span class="string">viewDidDisappear:</span>(BOOL)animated</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">super</span> <span class="string">viewDidDisappear:</span>animated];</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="viewWillLayoutSubViews-amp-viewDidLayoutSubViews"><a href="#viewWillLayoutSubViews-amp-viewDidLayoutSubViews" class="headerlink" title="viewWillLayoutSubViews &amp; viewDidLayoutSubViews"></a>viewWillLayoutSubViews &amp; viewDidLayoutSubViews</h3><p>ç›¸å¯¹äº<code>viewWillAppear</code>ï¼Œæ›´é€‚åˆäºå¯¹å‡ ä½•ç›¸å…³çš„æ“ä½œçš„æ–¹æ³•ã€‚</p>
<h3 id="didReceiveMemoryWarning"><a href="#didReceiveMemoryWarning" class="headerlink" title="didReceiveMemoryWarning"></a>didReceiveMemoryWarning</h3><p>å½“å†…å­˜å ç”¨è¿‡é«˜æ—¶ï¼Œä¼šè°ƒç”¨æ­¤æ–¹æ³•ï¼Œå¯ä»¥åœ¨æ­¤æ–¹æ³•ä¸­æ·»åŠ ä¸€äº›é‡Šæ”¾å ç”¨å†…å­˜å¤§çš„å¯¹è±¡ï¼Œæ¯”å¦‚å›¾ç‰‡ã€å£°éŸ³ã€è§†é¢‘ç­‰ç­‰ã€‚å¦‚æœä½ çš„åº”ç”¨æ—¶å€™å†…å­˜è¿‡é«˜ä½†æ˜¯åˆä¸é‡Šæ”¾å†…å­˜ï¼ŒiOSä¼šå°†ä½ çš„åº”ç”¨æ€æ‰ï¼</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning &#123;</div><div class="line">    [<span class="keyword">super</span> didReceiveMemoryWarning];</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Notification-é€šçŸ¥"><a href="#Notification-é€šçŸ¥" class="headerlink" title="Notification é€šçŸ¥"></a>Notification é€šçŸ¥</h2><p>é€šçŸ¥æ˜¯MVCä¸­å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå‘é€ä¿¡å·å‘Šè¯‰å…¶ä»–äººæˆ‘çš„å€¼å‘ç”Ÿäº†æ”¹å˜ï¼Œç›‘å¬è€…æ¥æ”¶åˆ°é€šçŸ¥ä¹‹åä¼šåšå‡ºä¸€äº›å¤„ç†ã€‚</p>
<h3 id="æ³¨å†Œé€šçŸ¥"><a href="#æ³¨å†Œé€šçŸ¥" class="headerlink" title="æ³¨å†Œé€šçŸ¥"></a>æ³¨å†Œé€šçŸ¥</h3><p>æ³¨å†Œä¸€ä¸ªé€šçŸ¥éœ€è¦ç”¨åˆ°4ä¸ªå‚æ•°ï¼š</p>
<ul>
<li>observerï¼šé€šçŸ¥çš„æ¥å—è€…ï¼Œä¸€èˆ¬ä¸ºviewControllerï¼Œæ‰€ä»¥æˆ‘ä»¬å°†é€šçŸ¥çš„æ³¨å†Œå†™åœ¨æ§åˆ¶å™¨ä¸­æ—¶ï¼Œè¿™ä¸ªå€¼å¯¹åº”ä¸º<code>self</code>ã€‚</li>
<li>selectorï¼šobserverä¸­çš„æ–¹æ³•ï¼Œæ¥æ”¶åˆ°å¹¿æ’­æ—¶è°ƒç”¨ã€‚</li>
<li>nameï¼šå¹¿æ’­çš„åå­—ã€‚</li>
<li>objectï¼šå½“å¹¿æ’­ç‰¹å®šå¯¹æŸä¸ªå¯¹è±¡ä½œç”¨çš„æ—¶å€™ä½¿ç”¨ã€‚</li>
</ul>
<p>ä¸‹è¾¹è¿™ä¸ªæ–¹æ³•å°±æ˜¯æ³¨å†Œä¸€ä¸ªç›‘å¬ç³»ç»Ÿå­—ä½“å‘ç”Ÿæ”¹å˜çš„é€šçŸ¥ï¼Œå½“ç”¨æˆ·åœ¨ä¿®æ”¹è®¾ç½®ä¸­iOSå­—ä½“çš„å¤§å°æ—¶ï¼Œå°±ä¼šè°ƒç”¨<code>preferredFontsChangeed:</code>æ–¹æ³•è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-attr">[[NSNotificationCenter defaultCenter]</span> <span class="selector-tag">addObserver</span><span class="selector-pseudo">:self</span></div><div class="line">                                         <span class="selector-tag">selector</span>:@<span class="selector-tag">selector</span>(<span class="attribute">preferredFontsChangeed</span>:)</div><div class="line">                                             <span class="selector-tag">name</span><span class="selector-pseudo">:UIContentSizeCategoryDidChangeNotification</span></div><div class="line">                                           <span class="selector-tag">object</span><span class="selector-pseudo">:nil</span>];</div></pre></td></tr></table></figure>
<h3 id="ç§»é™¤é€šçŸ¥"><a href="#ç§»é™¤é€šçŸ¥" class="headerlink" title="ç§»é™¤é€šçŸ¥"></a>ç§»é™¤é€šçŸ¥</h3><p>å½“æˆ‘ä»¬ç¦»å¼€è¿™ä¸ªé¡µé¢çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å°†æ³¨å†Œè¿‡çš„é€šçŸ¥ç§»é™¤æ‰ï¼Œä»¥å…æˆ‘ä»¬çš„ç¨‹åºå‘ç”Ÿé—®é¢˜,è¿™é‡Œçš„å‚æ•°åŸºæœ¬ä¸æ³¨å†Œé€šçŸ¥æ—¶ä¸€è‡´ã€‚</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-attr">[[NSNotificationCenter defaultCenter]</span> <span class="selector-tag">removeObserver</span><span class="selector-pseudo">:self</span></div><div class="line">                                                <span class="selector-tag">name</span><span class="selector-pseudo">:UIContentSizeCategoryDidChangeNotification</span></div><div class="line">                                              <span class="selector-tag">object</span><span class="selector-pseudo">:nil</span>];</div></pre></td></tr></table></figure>
<center><img src="/2017/05/20/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾ç¬”è®°ï¼ˆ5ï¼‰-ViewControllerç”Ÿå‘½å‘¨æœŸå’Œé€šçŸ¥/AttributedGif.gif" alt="logo"></center>





          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/09/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾ç¬”è®°ï¼ˆ4ï¼‰-objective-CçŸ¥è¯†å’ŒFoundationæ¡†æ¶/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhangzr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhangzr's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/09/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾ç¬”è®°ï¼ˆ4ï¼‰-objective-CçŸ¥è¯†å’ŒFoundationæ¡†æ¶/" itemprop="url">
                  æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾ç¬”è®°ï¼ˆ4ï¼‰-objective-CçŸ¥è¯†å’ŒFoundationæ¡†æ¶
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-05-09T21:17:40+08:00">
                2017-05-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>è¿™ä¸€èŠ‚è¯¾ä¸­è®²å¾—éƒ½æ˜¯ä¸€äº›å¾ˆåŸºç¡€çš„ä¸œè¥¿ï¼Œä»objective-Cçš„ä¸€äº›ç®€å•çš„çŸ¥è¯†åˆ°Foundationæ¡†æ¶ä¸­çš„å„ä¸ªå¯¹è±¡çš„ä½¿ç”¨ã€‚</p>
<h2 id="objective-C-çŸ¥è¯†"><a href="#objective-C-çŸ¥è¯†" class="headerlink" title="objective-C çŸ¥è¯†"></a>objective-C çŸ¥è¯†</h2><h3 id="åˆ›å»ºå¯¹è±¡"><a href="#åˆ›å»ºå¯¹è±¡" class="headerlink" title="åˆ›å»ºå¯¹è±¡"></a>åˆ›å»ºå¯¹è±¡</h3><h4 id="alloc-initæ–¹æ³•"><a href="#alloc-initæ–¹æ³•" class="headerlink" title="alloc initæ–¹æ³•"></a>alloc initæ–¹æ³•</h4><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨alloc initæ–¹æ³•è¿›è¡Œå¯¹è±¡çš„åˆ›å»ºï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">NSMutableArray *cards = <span class="comment">[<span class="comment">[NSMutableArray alloc]</span> init]</span>;</div><div class="line"></div><div class="line">CardMactingGame *game = <span class="comment">[<span class="comment">[CardMatchingGame alloc]</span> initWithCardCount:12 usingDeck:d]</span>;</div></pre></td></tr></table></figure>
<h4 id="ä½¿ç”¨ç±»æ–¹æ³•åˆ›å»º"><a href="#ä½¿ç”¨ç±»æ–¹æ³•åˆ›å»º" class="headerlink" title="ä½¿ç”¨ç±»æ–¹æ³•åˆ›å»º"></a>ä½¿ç”¨ç±»æ–¹æ³•åˆ›å»º</h4><p>è¿˜æœ‰ä¸€äº›æ˜¯ä½¿ç”¨ç±»æ–¹æ³•æ¥åˆ›å»ºï¼Œæ¯”å¦‚:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSString</span> *moltuae = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%d"</span>, <span class="number">42</span>];</div></pre></td></tr></table></figure>
<h4 id="alloc-initæ–¹æ³•-amp-ç±»æ–¹æ³•"><a href="#alloc-initæ–¹æ³•-amp-ç±»æ–¹æ³•" class="headerlink" title="alloc initæ–¹æ³•&amp;ç±»æ–¹æ³•"></a>alloc initæ–¹æ³•&amp;ç±»æ–¹æ³•</h4><p>è¿˜æœ‰ä¸€äº›æ˜¯æ—¢æœ‰alloc initæ–¹æ³•ï¼Œåˆæœ‰ç±»æ–¹æ³•çš„ï¼Œæ¯”å¦‚<code>format</code>æ–¹æ³•</p>
<p>æ—¢æœ‰</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[NSString stringWithFormat:...]</div></pre></td></tr></table></figure>
<p>åˆæœ‰</p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[[<span class="name">NSString</span> alloc] initWithFormat:...]<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>ä»–ä»¬çš„ä½œç”¨å®Œå…¨ç›¸åŒã€‚ä»–ä»¬åŒæ—¶å­˜åœ¨ç®—æ˜¯ä¸€ç§å†å²é—ç•™é—®é¢˜ã€‚</p>
<h4 id="é€šè¿‡å¦ä¸€ä¸ªæ–¹æ³•æ¥åˆ›å»º"><a href="#é€šè¿‡å¦ä¸€ä¸ªæ–¹æ³•æ¥åˆ›å»º" class="headerlink" title="é€šè¿‡å¦ä¸€ä¸ªæ–¹æ³•æ¥åˆ›å»º"></a>é€šè¿‡å¦ä¸€ä¸ªæ–¹æ³•æ¥åˆ›å»º</h4><p>æ¯”å¦‚NSStringä¸­çš„</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- (<span class="name">NSString</span> *)stringByAppendingString:(NSString *)otherString<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>ä½ å‘é€ä¸€ä¸ªå­—ç¬¦ä¸²ç»™ä»–ï¼Œä»–ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²è¿”å›ç»™ä½ ã€‚</p>
<h3 id="nil"><a href="#nil" class="headerlink" title="nil"></a>nil</h3><p>nilè¡¨ç¤ºä¸æŒ‡å‘ä»»ä½•ä¸œè¥¿ï¼Œæˆ‘ä»¬å¯ä»¥å‘nilå‘é€æ¶ˆæ¯ï¼Œç¨‹åºä¸ä¼šå‘ç”Ÿå´©æºƒï¼Œä½†æ˜¯ä¹Ÿä¸ä¼šå‘ç”Ÿä»»ä½•äº‹æƒ…ã€‚</p>
<h3 id="åŠ¨æ€ç»‘å®š"><a href="#åŠ¨æ€ç»‘å®š" class="headerlink" title="åŠ¨æ€ç»‘å®š"></a>åŠ¨æ€ç»‘å®š</h3><p>åŠ¨æ€ç»‘å®šä¸­æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸œè¥¿å«åš <strong>id</strong>ï¼Œidæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œæ‰€ä»¥<strong>ä¸å­˜åœ¨*id</strong>ã€‚å®ƒæŒ‡å‘æœªçŸ¥æˆ–è€…æœªæŒ‡å®šå¯¹è±¡ã€‚å®é™…ä¸Šocä¸­æ‰€æœ‰çš„æŒ‡é’ˆéƒ½æ˜¯idã€‚ä½†æ˜¯idç±»å‹å¦‚æœä½¿ç”¨ä¸å½“å°±ä¼šç…§æˆç¨‹åºå´©æºƒã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥è¯´æ˜ä¸€ä¸‹ã€‚</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">NSString *s = @<span class="string">"x"</span><span class="comment">;</span></div></pre></td></tr></table></figure>
<p>ä¸Šè¾¹è¿™è¡Œä»£ç å¾ˆæ¸…æ¥šçš„è¯´æ˜äº†ç¼–è¯‘å™¨æƒ³è¦çš„ä¸œè¥¿ï¼Œsçš„ç±»å‹ï¼Œä»–çš„å€¼æ˜¯å¤šå°‘ã€‚</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">id obj</span> = s;</div></pre></td></tr></table></figure>
<p>è€Œè¿™ä¸€è¡Œå°±æœ‰äº›å±é™©ï¼Œä»–å£°æ˜äº†ä¸€ä¸ªidç±»å‹çš„objå¹¶æŒ‡å‘äº†å­—ç¬¦ä¸²ç±»å‹sã€‚</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">NSArray *a = obj<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>è¿™æ—¶å€™æˆ‘ä»¬è®©ä¸€ä¸ªæ•°ç»„ç±»å‹çš„å˜é‡æŒ‡å‘äº†å­—ç¬¦ä¸²ç±»å‹ï¼Œè¿™æ ·å°±<strong>éå¸¸å±é™©äº†</strong>ã€‚å¾ˆæœ‰å¯èƒ½å‘ç”Ÿå´©æºƒã€‚</p>
<p>ä¸ºäº†ç†è§£çš„æ›´å……åˆ†ä¸€ç‚¹ï¼Œæˆ‘ä»¬æ¥ä¸¾ä¸€ä¸ªä¾‹å­ï¼š<br>æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ªç±»ï¼Œä¸€ä¸ªç±»<code>Vehicle</code>ï¼ˆäº¤é€šå·¥å…·ï¼‰ï¼Œä»–æœ‰ä¸€ä¸ªæ–¹æ³•<code>move</code>(è¿åŠ¨)ã€‚è¿˜æœ‰ä¸€ä¸ªç±»<code>Ship</code>(èˆ¹)ï¼Œä»–ç»§æ‰¿äº<code>Vehicle</code>ï¼Œæ‰€ä»¥ä»–ä¹Ÿå¯ä»¥å®ç°<code>move</code>æ–¹æ³•ï¼Œè€Œä¸”ä»–è‡ªèº«è¿˜æœ‰ä¸€ä¸ª<code>shoot</code>(å°„å‡»)æ–¹æ³•ã€‚</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="variable">@interface</span> Vehicle</div><div class="line">- (void)move;</div><div class="line"><span class="variable">@end</span></div><div class="line"></div><div class="line"><span class="variable">@interface</span> Ship</div><div class="line">- (void)shoot;</div><div class="line"><span class="variable">@end</span></div></pre></td></tr></table></figure>
<p>ç°åœ¨æˆ‘å£°æ˜ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œä¸€æ¡èˆ¹sã€‚è¿™æ—¶å€™æˆ‘æ‰§è¡Œshootè®©èˆ¹å°„å‡»ï¼Œæˆ–è€…æ‰§è¡Œmoveè®©èˆ¹ç§»åŠ¨éƒ½æ²¡æœ‰ä»»ä½•çš„é—®é¢˜ã€‚</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Ship *s = <span class="comment">[<span class="comment">[Ship alloc]</span> init]</span>;</div><div class="line"><span class="comment">[s shoot]</span>;</div><div class="line"><span class="comment">[s move]</span>;</div></pre></td></tr></table></figure>
<p>æˆ‘è¿˜å¯ä»¥å£°æ˜ä¸€ä¸ªäº¤é€šå·¥å…·vï¼Œè®©ä»–æŒ‡å‘sï¼Œè¿™ä¹Ÿæ²¡é—®é¢˜ï¼Œå› ä¸ºèˆ¹æ˜¯äº¤é€šå·¥å…·çš„ä¸€ç§ã€‚</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Vehicle *v = s<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>é‚£ç°åœ¨æˆ‘è®©væ‰§è¡Œshootå°„å‡»ï¼Œè¿™æ—¶å€™ç¼–è¯‘å™¨ä¼šå‘å‡ºè­¦å‘Šï¼Œå› ä¸ºVehicleæ²¡æœ‰shootæ–¹æ³•ã€‚ä½†æ˜¯è¿è¡Œæ—¶ï¼Œä»–ä¸ä¼šå´©æºƒï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“væ˜¯ä¸€è‰˜èˆ¹ï¼Œæ‰€ä»¥ä¸ä¼šå´©æºƒã€‚</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="section">[v shoot]</span><span class="comment">;</span></div></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥æˆ‘å£°æ˜ä¸€ä¸ªidç±»å‹çš„objï¼Œä¸æŒ‡å®šobjæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ã€‚ç„¶åæˆ‘è®©ä»–æ‰§è¡Œshootå°„å‡»ï¼Œè¿™æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¸ä¼šæé†’ä½ æœ‰é”™è¯¯ï¼Œå› ä¸ºæˆ‘ä»¬ç¡®å®æœ‰ä¸€ä¸ªshootæ–¹æ³•ï¼Œè€Œä¸”objä¸çŸ¥é“æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œæ‰€ä»¥ä¸ä¼šæŠ¥é”™ã€‚ä½†æ˜¯åœ¨è¿è¡Œæ—¶ï¼Œå› ä¸ºobjä¸­æ²¡æœ‰shootè¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥è¿™æ—¶å€™ç¨‹åºå°±ä¼šå‘ç”Ÿå´©æºƒã€‚</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">id obj = ...<span class="comment">;</span></div><div class="line">[obj shoot]<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>ä½†æ˜¯å¦‚æœæˆ‘ç°åœ¨è®©objæ‰§è¡Œä¸€ä¸ªä¸å­˜åœ¨çš„æ–¹æ³•æ—¶ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¼šè§‰å¾—æˆ‘å¯èƒ½æ˜¯å†™é”™äº†ï¼Ÿæ‹¼å†™å‡ºäº†é—®é¢˜ï¼Œæ‰€ä»¥è¿™æ—¶å€™ç¼–è¯‘å™¨å°±ä¼šæç¤ºã€‚</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="section">[obj someMethodNameThatNoObjectAnyWhereRespondsTo]</span><span class="comment">;</span></div></pre></td></tr></table></figure>
<p>é‚£æ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­å‡è®¾ï¼Œæœ‰ä¸€ä¸ªNSStringç±»å‹çš„helloï¼Œæˆ‘è®©ä»–æ‰§è¡Œshootæ“ä½œï¼Œé‚£è¿è¡Œæ—¶è‚¯å®šä¼šå´©æºƒï¼Œå› ä¸ºæˆ‘ä»¬æŒ‡å®šäº†helloå°±æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„ï¼Œè€Œå­—ç¬¦ä¸²å¹¶æ²¡æœ‰è®¾è®¡è¿™ä¸ªæ“ä½œï¼Œé‚£ä¹ˆä¸€å®šä¼šå´©æºƒã€‚è€Œä¸”ç¼–è¯‘å™¨ä¹Ÿä¼šå¯¹æˆ‘ä»¬å‘å‡ºè­¦å‘Šã€‚</p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NSString *hello = @<span class="string">"hello"</span>;</div><div class="line"><span class="string">[hello shoot]</span>;</div></pre></td></tr></table></figure>
<p>é‚£ä¹ˆå¦‚æœç°åœ¨æˆ‘ä½¿ç”¨å¼ºåˆ¶è½¬æ¢ç±»å‹åˆ›å»ºä¸€ä¸ªhelloShip,è¿™æ—¶å€™ç¼–è¾‘å™¨ä¼šè®¤ä¸ºhelloShipæ˜¯ä¸€ä¸ªshipï¼Œä½†æ˜¯æˆ‘ä»¬æ˜ç™½ï¼Œä»–æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¦‚æœè®©helloShipæ‰§è¡Œshootæ–¹æ³•æ—¶ï¼Œç¼–è¯‘å™¨ä¸ä¼šæŠ¥é”™ï¼Œå› ä¸ºä»–è®¤ä¸ºhelloShipæ˜¯shipï¼Œæœ‰shootæ–¹æ³•ã€‚ä½†æ˜¯åœ¨è¿è¡Œæ—¶ï¼Œç¨‹åºä¼šå‘ç”Ÿå´©æºƒã€‚å› ä¸ºå­—ç¬¦ä¸²ç±»å‹ä¸ä¼šå¯¹shootæ–¹æ³•è¿›è¡Œååº”ã€‚</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Ship *helloShip = (Ship*)hello<span class="comment">;</span></div><div class="line">[helloShip shoot]<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬çš„ä»£ç å°±ä¼šéå¸¸å±é™©ï¼Œå¦‚æœä¸€ä¸ªä¸æ³¨æ„å°±ä¼šå‘ç”Ÿå´©æºƒï¼Œé‚£ä¹ˆå¦‚ä½•é¿å…è¿™æ ·çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°±è¦ç”¨åˆ°ç±»å‹ä¿æŠ¤æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<strong>å†…çœ</strong>æˆ–è€…<strong>åè®®</strong>æ¥å¯¹æˆ‘ä»¬çš„ç±»å‹è¿›è¡Œä¿æŠ¤ã€‚</p>
<h3 id="ç±»å‹ä¿æŠ¤æœºåˆ¶ï¼ˆå†…çœï¼‰"><a href="#ç±»å‹ä¿æŠ¤æœºåˆ¶ï¼ˆå†…çœï¼‰" class="headerlink" title="ç±»å‹ä¿æŠ¤æœºåˆ¶ï¼ˆå†…çœï¼‰"></a>ç±»å‹ä¿æŠ¤æœºåˆ¶ï¼ˆå†…çœï¼‰</h3><ul>
<li><p><code>isKindOfClass</code><br>ä»–å¯ä»¥è®©ä½ é—®ä¸€ä¸ªNSObjectå¯¹è±¡æˆ–è€…ç»§æ‰¿äºNSObjetç±»çš„å¯¹è±¡ï¼Œæ˜¯å¦å±äºè¿™ä¸€ç³»åˆ—ç±»ã€‚</p>
</li>
<li><p><code>isMemberOfClass</code><br>ä»–ä¸<code>isKindOfClass</code>å·®ä¸å¤šï¼Œä»–æ˜¯ç”¨æ¥ç¡®å®šä½ æ˜¯å¦å®é™…æ˜¯è¿™ä¸ªç±»ã€‚</p>
</li>
<li><p><code>respondsToSelector</code><br>ä»–æ˜¯è¯´idæŒ‡å‘çš„è¿™ä¸€å¯¹è±¡ï¼Œæ˜¯å¦èƒ½å¯¹æŸä¸€ä¸ªç‰¹å®šçš„æ–¹æ³•åšå‡ºååº”ï¼Œæ¯”å¦‚èˆ¹æ˜¯å¦å¯ä»¥æ‰§è¡Œå°„å‡»æ“ä½œã€‚</p>
</li>
</ul>
<p>å†…çœç»å¸¸ç”¨äºMVCä¸­çš„é€šä¿¡å’Œä»æ•°ç»„ä¸­é€‰æ‹©ä¸€ä¸ªä¸œè¥¿å‡ºæ¥çš„æ—¶å€™çš„åˆ¤æ–­ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<p>è¿™æ®µä»£ç å°±éå¸¸ä¸å®‰å…¨ï¼Œå¦‚æœ<code>otherCards</code>ä¸­å­˜åœ¨ä¸èƒ½å“åº”<code>play</code>æ–¹æ³•çš„æ—¶å€™ï¼Œå°±ä¼šç…§æˆç¨‹åºçš„å´©æºƒã€‚</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">PlayingCard *otherCard = [otherCards firstObject]<span class="comment">;</span></div><div class="line">[otherCard play]<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>æ·»åŠ äº†ç±»å‹ä¿æŠ¤æœºåˆ¶ä¹‹åå°±ä¸ä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜äº†ï¼Œè¿™æ—¶å€™é€šè¿‡isKindOfClassç¡®è®¤ä¹‹åã€‚æˆ‘ä»¬ç»™cardå‘é€æ¶ˆæ¯çš„æ—¶å€™ï¼Œå°±ä¸ä¼šå‘ç”Ÿå´©æºƒäº†ã€‚</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">PlayingCard *otherCard = <span class="comment">[otherCards firstObject]</span>;</div><div class="line">id card = <span class="comment">[otherCards firstObjct]</span>;</div><div class="line">if (<span class="comment">[card isKindOfClass:<span class="comment">[PlayingCard class]</span>]</span>)</div><div class="line">&#123;</div><div class="line">   PlayingCard *otherCard = (PlaytingCard *)card;</div><div class="line">   <span class="comment">[otherCard play]</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Foundation"><a href="#Foundation" class="headerlink" title="Foundation"></a>Foundation</h2><p>Foundtionè¿™é‡Œå¹¶æ²¡æœ‰è®²å¤ªå¤šä¸œè¥¿ï¼Œéƒ½æ˜¯ä¸€äº›åŸºç¡€çš„æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿå°±ä¸è¯¦ç»†å†™å‡ºæ¥äº†ã€‚</p>
<h3 id="NSObject"><a href="#NSObject" class="headerlink" title="NSObject"></a>NSObject</h3><p>æ‰€æœ‰çš„ç±»éƒ½ç»§æ‰¿äºNSObjectï¼Œä»–æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„æ–¹æ³•</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- (NSString *)description<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>å½“æˆ‘ä»¬ä½¿ç”¨NSLogçš„æ—¶å€™ï¼Œå°±ä¼šè°ƒç”¨åˆ°<code>description</code>å‡½æ•°ã€‚</p>
<h3 id="NSArray"><a href="#NSArray" class="headerlink" title="NSArray"></a>NSArray</h3><p>ä¸å¯å˜æ•°ç»„ã€‚å¯ä»¥ä½¿ç”¨@[]æ–¹æ³•åˆ›å»ºæ–°çš„æ•°ç»„ã€‚</p>
<h3 id="NSMutableArray"><a href="#NSMutableArray" class="headerlink" title="NSMutableArray"></a>NSMutableArray</h3><p>å¯å˜æ•°ç»„ï¼Œèƒ½å¤Ÿä½¿ç”¨NSArrayä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¹¶ä¸”å¯ä»¥æ·»åŠ å’Œç§»é™¤æ•°ç»„é‡Œçš„å…ƒç´ ã€‚</p>
<h3 id="NSNumber"><a href="#NSNumber" class="headerlink" title="NSNumber"></a>NSNumber</h3><p>ç”¨äºå­˜æ”¾æ‰€æœ‰åŸå§‹ç±»å‹ï¼Œæ•´å½¢ã€æµ®ç‚¹å‹ã€å¸ƒå°”ç±»å‹ç­‰ç­‰ã€‚å¯ä»¥ç›´æ¥ä½¿ç”¨ @3 è¿™ç§æ ¼å¼æ¥å£°æ˜ã€‚</p>
<h3 id="NSDara"><a href="#NSDara" class="headerlink" title="NSDara"></a>NSDara</h3><p>äºŒè¿›åˆ¶æ–‡ä»¶</p>
<h3 id="NSDate"><a href="#NSDate" class="headerlink" title="NSDate"></a>NSDate</h3><p>æ—¥æœŸç›¸å…³çš„ä¸œè¥¿ä¼šä½¿ç”¨åˆ°è¿™ä¸ªï¼Œè¿˜å¯ä»¥ä½¿ç”¨<code>NSCalendar</code>æ¥å¤„ç†æ—¥å†ï¼Œ<code>NSDateFormatter</code>æ¥å¤„ç†æ—¥æœŸæ ¼å¼ï¼Œè¿˜æœ‰<code>NSDateComponets</code>ã€‚</p>
<h3 id="NSDictionary"><a href="#NSDictionary" class="headerlink" title="NSDictionary"></a>NSDictionary</h3><p>å­—å…¸ï¼Œä»…æ¬¡äºæ•°ç»„çš„æœ€é‡è¦çš„ä¸€ç§ç±»å‹ã€‚ç”±é”®å€¼å¯¹ç»„æˆã€‚</p>
<h3 id="NSMutableDictionary"><a href="#NSMutableDictionary" class="headerlink" title="NSMutableDictionary"></a>NSMutableDictionary</h3><p>å¯å˜å­—å…¸ï¼Œä¸æ•°ç»„å’Œå¯å˜æ•°ç»„çš„å…³ç³»ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨å­—å…¸çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå¹¶ä¸”å¯ä»¥æ·»åŠ åˆ é™¤å…ƒç´ ã€‚</p>
<h3 id="NSUserDefaults"><a href="#NSUserDefaults" class="headerlink" title="NSUserDefaults"></a>NSUserDefaults</h3><p>ä»–æ˜¯ä¸€ç§å…±äº«å­—å…¸ï¼Œåœ¨ç¨‹åºé‡Œä¸€ç›´å¯ä»¥ä¿å­˜ï¼Œä½†æ˜¯ä»–ä¸èƒ½ä¿å­˜å¾ˆå¤§çš„ä¸œè¥¿ï¼Œæ¯”å¦‚å›¾ç‰‡å•Šä»€ä¹ˆçš„ï¼Œä»–å¯ä»¥å­˜å‚¨ä¸€äº›å­—ç¬¦ä¸²æˆ–è€…æ•°å­—ç­‰ä¸€äº›å°ä¸œè¥¿ã€‚</p>
<p>åœ¨è®¾ç½®å®Œæ•°æ®ä¹‹åä¸€å®šè¦è®°å¾—ä½¿ç”¨<code>synchronize</code>æ¥åŒæ­¥ï¼Œå¦‚æœä¸åŒæ­¥çš„è¯ï¼Œä¹‹å‰è®¾ç½®çš„å†…å®¹åœ¨ç¨‹åºæ€æ‰ä¹‹åå°±ä¸ä¼šå­˜åœ¨äº†ï¼Œæ‰€ä»¥ä¸€å®šè¦è®°å¾—ä½¿ç”¨<code>synchronize</code>åŒæ­¥æ•°æ®ã€‚</p>
<h3 id="NSRange"><a href="#NSRange" class="headerlink" title="NSRange"></a>NSRange</h3><p>ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªèŒƒå›´ï¼Œä»–æ˜¯ä¸€ä¸ªç»“æ„ä½“,ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªèµ·å§‹ä½ç½®å’Œé•¿åº¦ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span>&#123;</div><div class="line">    <span class="built_in">NSUInteger</span> location;</div><div class="line">    <span class="built_in">NSUInteger</span> length;</div><div class="line">&#125;<span class="built_in">NSRange</span>;</div></pre></td></tr></table></figure>
<h2 id="Fonts-å­—ä½“"><a href="#Fonts-å­—ä½“" class="headerlink" title="Fonts å­—ä½“"></a>Fonts å­—ä½“</h2><p>è¿™é‡Œæåˆ°ï¼Œå¦‚æœä½ åªä¼šä½¿ç”¨ä¸€ç§è®¾ç½®å­—ä½“çš„æ–¹æ³•ï¼Œé‚£ä¹ˆä¸€å®šå°±æ˜¯è¿™ä¸ªæ–¹æ³•ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">UIFont</span> *font = [<span class="built_in">UIFont</span> preferredFontForTextStyle:<span class="built_in">UIFontTextStyleBody</span>];</div></pre></td></tr></table></figure>
<p>åè¾¹çš„å‚æ•°æœ‰å¾ˆå¤šç§ï¼Œå¯ä»¥æ ¹æ®ä½¿ç”¨çš„åœºæ™¯é€‰æ‹©ä¸åŒçš„å­—ä½“ç±»å‹ã€‚</p>
<p>å¹¶ä¸”è¿˜è¯´æ˜äº†æœ€å¥½ä¸è¦ä½¿ç”¨ç³»ç»Ÿå­—ä½“æ¥è®¾ç½®å­—ä½“ã€‚</p>
<h3 id="NSAttributedString"><a href="#NSAttributedString" class="headerlink" title="NSAttributedString"></a>NSAttributedString</h3><p>è¿™æ˜¯ä¸€ä¸ªç¥å¥‡çš„å­—ç¬¦ä¸²ï¼Œä½ å¯ä»¥å¯¹ä»–è¿›è¡Œå¾ˆå¤šè®¾ç½®ï¼Œä½†æ˜¯è¦è®°ä½ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²çš„å†…å®¹æ˜¯ä¸å¯å˜çš„ã€‚å¯ä»¥é€šè¿‡<code>NSRange</code>æ¥å¯¹éƒ¨åˆ†å­—ç¬¦ä¸²è¿›è¡Œä¿®æ”¹ã€‚</p>
<p>è¿™ä¸ªç±»çš„å…·ä½“ä½¿ç”¨ä¼šåœ¨ä¸‹ä¸€èŠ‚è¯¾ä¸­å†™ä¸€ä¸ªDemoæ¥ç€é‡è®²è§£ã€‚æ‰€ä»¥è¿™é‡Œå°±å…ˆä¸å¤šå•°å—¦ï¼Œç­‰åˆ°ä¸‹èŠ‚è¯¾çš„ç¬”è®°ä¸­å†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨å®ƒã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/07/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾å­¦ä¹ ç¬”è®°ï¼ˆ3ï¼‰-å®Œæˆç¿»çº¸ç‰Œæ¸¸æˆ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhangzr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhangzr's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/07/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾å­¦ä¹ ç¬”è®°ï¼ˆ3ï¼‰-å®Œæˆç¿»çº¸ç‰Œæ¸¸æˆ/" itemprop="url">
                  æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾å­¦ä¹ ç¬”è®°ï¼ˆ3ï¼‰-å®Œæˆç¿»çº¸ç‰Œæ¸¸æˆ
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-05-07T22:25:04+08:00">
                2017-05-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ç¬¬ä¸‰è¯¾æ²¡æœ‰å¤ªå¤šçš„çŸ¥è¯†ç‚¹ï¼Œä¸»è¦æ˜¯å®Œæˆå‰ä¸¤èŠ‚è¯¾ä¸­çš„ä¸€ä¸ªå°çš„çº¸ç‰Œæ¸¸æˆã€‚å› ä¸ºä¸Šè¯¾çš„æ—¶é—´æœ‰é™ï¼Œæ‰€ä»¥è¯¾ä¸Šå¹¶æ²¡æœ‰å¤ªå¤šå¤æ‚çš„é€»è¾‘ï¼Œä¸»è¦æ˜¯é€šè¿‡è¿™æ ·çš„ä¸€ä¸ªå°demoæ¥åŠ æ·±å¯¹MVCæ¶æ„çš„ç†è§£ã€‚</p>
<h2 id="è®¾è®¡éœ€æ±‚"><a href="#è®¾è®¡éœ€æ±‚" class="headerlink" title="è®¾è®¡éœ€æ±‚"></a>è®¾è®¡éœ€æ±‚</h2><ul>
<li>æ˜¾ç¤ºå¤šå¼ å¡ç‰Œï¼Œç‚¹å‡»ä»»æ„ä¸€å¼ å¡ç‰Œå¯ä»¥ç¿»è¿‡å¡ç‰Œ</li>
<li>åŒ¹é…ä¸¤å¼ å¡ç‰Œçš„å†…å®¹ï¼ŒèŠ±è‰²æˆ–æ•°å­—ç›¸åŒå³ä¸ºåŒ¹é…æˆåŠŸï¼Œå¹¶ä¸”å°†æŒ‰é’®ç½®äºä¸èƒ½ç‚¹å‡»çš„çŠ¶æ€ï¼Œè€Œä¸”æœ‰ä¸åŒçš„å¯¹åº”åˆ†å€¼ã€‚è‹¥åŒ¹é…ä¸æˆåŠŸåˆ™å°†å¡ç‰Œæ‰£å›</li>
<li>æ¯æ¬¡ç‚¹å‡»å¡ç‰Œéƒ½ä¼šæ¶ˆè€—åˆ†å€¼</li>
<li>æ¯æ¬¡åˆ†å€¼æ”¹å˜ï¼ˆç¿»å¡ç‰Œï¼‰ä¹‹åéƒ½è¦æ›´æ–°UI</li>
</ul>
<center><img src="/2017/05/07/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾å­¦ä¹ ç¬”è®°ï¼ˆ3ï¼‰-å®Œæˆç¿»çº¸ç‰Œæ¸¸æˆ/CardMatchingGame.png" alt="logo"></center>



<h2 id="ç»“æ„è®¾è®¡"><a href="#ç»“æ„è®¾è®¡" class="headerlink" title="ç»“æ„è®¾è®¡"></a>ç»“æ„è®¾è®¡</h2><h3 id="Cardï¼ˆå¡ç‰Œï¼‰"><a href="#Cardï¼ˆå¡ç‰Œï¼‰" class="headerlink" title="Cardï¼ˆå¡ç‰Œï¼‰"></a>Cardï¼ˆå¡ç‰Œï¼‰</h3><p>åŒ…å«å…¬å…±å˜é‡ä¸‰ä¸ªï¼Œå†…å®¹<code>contents</code>ï¼Œé€‰ä¸­çŠ¶æ€<code>chosen</code>ï¼ŒåŒ¹é…çŠ¶æ€<code>matched</code>ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span> ,<span class="keyword">strong</span>) <span class="built_in">NSString</span>          *contents;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span> ,<span class="keyword">assign</span>) <span class="built_in">BOOL</span>               chosen;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span> ,<span class="keyword">assign</span>) <span class="built_in">BOOL</span>               matched;</div></pre></td></tr></table></figure>
<p>ä¸€ä¸ªå…¬å…±æ–¹æ³•ç”¨æ¥åˆ¤æ–­æ˜¯å¦åŒ¹é…ã€‚è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒç®€å•ç²—æš´ï¼Œç›´æ¥åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ã€‚</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">int</span>)<span class="string">match:</span>(NSArray *)otherCards</div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> score = <span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="keyword">for</span>(Card *card <span class="keyword">in</span> otherCards)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>([card.contents <span class="string">isEqualToString:</span>self.contents])</div><div class="line">        &#123;</div><div class="line">            score = <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> score;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Deckï¼ˆç‰Œå †ï¼‰"><a href="#Deckï¼ˆç‰Œå †ï¼‰" class="headerlink" title="Deckï¼ˆç‰Œå †ï¼‰"></a>Deckï¼ˆç‰Œå †ï¼‰</h3><p>åªæœ‰ä¸€ä¸ªç§æœ‰å˜é‡<code>cards</code>ç”¨æ¥å­˜æ”¾Cardã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span> ,<span class="keyword">strong</span>) <span class="built_in">NSMutableArray</span>     *cards;</div></pre></td></tr></table></figure>
<p>å¦å¤–æœ‰ä¸‰ä¸ªå…¬æœ‰æ–¹æ³•ï¼Œå…¶ä¸­ä¸¤ä¸ªæ˜¯æ·»åŠ å¡ç‰Œåˆ°ç‰Œå †ï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯éšæœºæŠ½å–ä¸€å¼ å¡ç‰Œã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">- (<span class="type">Card</span> *)drawRandomCard</div><div class="line">&#123;</div><div class="line">    <span class="type">Card</span> *randomCard = <span class="literal">nil</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">if</span>([<span class="keyword">self</span>.cards <span class="built_in">count</span>])</div><div class="line">    &#123;</div><div class="line">        unsigned index = arc4random() % [<span class="keyword">self</span>.cards <span class="built_in">count</span>];</div><div class="line">        randomCard = <span class="keyword">self</span>.cards[index];</div><div class="line">        [<span class="keyword">self</span>.cards removeObjectAtIndex:index];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> randomCard;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="PlayingCardï¼ˆæ‰‘å…‹ç‰Œï¼‰"><a href="#PlayingCardï¼ˆæ‰‘å…‹ç‰Œï¼‰" class="headerlink" title="PlayingCardï¼ˆæ‰‘å…‹ç‰Œï¼‰"></a>PlayingCardï¼ˆæ‰‘å…‹ç‰Œï¼‰</h3><p>ç»§æ‰¿äº<code>Card</code>ç±»ï¼Œæ˜¯æ‰‘å…‹ç‰Œçš„å…·ä½“åŒ–è¡¨ç°ã€‚æœ‰èŠ±è‰²å’Œå¤§å°ä¸¤ä¸ªå…¬æœ‰å˜é‡</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span> ,<span class="keyword">strong</span>) <span class="built_in">NSString</span>       *suit;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span> ,<span class="keyword">assign</span>) <span class="built_in">NSUInteger</span>      rank;</div></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œé‡å†™äº†çˆ¶ç±»ä¸­<code>match:</code>æ–¹æ³•ï¼Œå®ç°äº†éœ€æ±‚ä¸­å¯¹èŠ±è‰²å’Œå¤§å°è¿›è¡Œåˆ¤æ–­çš„æ¡ä»¶ã€‚</p>
<figure class="highlight sqf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">- (int)match:(NSArray *)otherCards</div><div class="line">&#123;</div><div class="line">    int <span class="built_in">score</span> = <span class="number">0</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">if</span>([otherCards <span class="built_in">count</span>] == <span class="number">1</span>)</div><div class="line">    &#123;</div><div class="line">        PlayingCard *otherCard = [otherCards firstObject];</div><div class="line">        <span class="keyword">if</span>([self.suit isEqualToString:otherCard.suit])</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">score</span> = <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(self.<span class="built_in">rank</span> == otherCard.<span class="built_in">rank</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">score</span> = <span class="number">4</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    return <span class="built_in">score</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="PlayingCardDeckï¼ˆæ‰‘å…‹ç‰Œå †ï¼‰"><a href="#PlayingCardDeckï¼ˆæ‰‘å…‹ç‰Œå †ï¼‰" class="headerlink" title="PlayingCardDeckï¼ˆæ‰‘å…‹ç‰Œå †ï¼‰"></a>PlayingCardDeckï¼ˆæ‰‘å…‹ç‰Œå †ï¼‰</h3><p>ç»§æ‰¿ä¸<code>Deck</code>ï¼Œè¿™é‡Œåªæ˜¯åœ¨åˆå§‹åŒ–çš„æ—¶å€™ç”Ÿæˆå…¨éƒ¨52å¼ æ‰‘å…‹ç‰Œã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">instancetype</span>)init</div><div class="line">&#123;</div><div class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> init];</div><div class="line">    </div><div class="line">    <span class="keyword">if</span>(<span class="keyword">self</span>)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">for</span>(<span class="built_in">NSString</span> *suit <span class="keyword">in</span> [PlayingCard validSuits])</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="built_in">NSUInteger</span> rank = <span class="number">1</span> ; rank &lt;= [PlayingCard maxRank] ; rank++)</div><div class="line">            &#123;</div><div class="line">                PlayingCard *card = [[PlayingCard alloc] init];</div><div class="line">                card.suit = suit;</div><div class="line">                card.rank = rank;</div><div class="line">                </div><div class="line">                [<span class="keyword">self</span> addCard:card];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="CardMatchingGame-ï¼ˆå¡ç‰ŒåŒ¹é…ï¼‰"><a href="#CardMatchingGame-ï¼ˆå¡ç‰ŒåŒ¹é…ï¼‰" class="headerlink" title="CardMatchingGame ï¼ˆå¡ç‰ŒåŒ¹é…ï¼‰"></a>CardMatchingGame ï¼ˆå¡ç‰ŒåŒ¹é…ï¼‰</h3><p>è¿™æ˜¯æ•´ä¸ªæ¸¸æˆçš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå®Œæˆå¡ç‰ŒåŒ¹é…çš„åˆ¤æ–­å·¥ä½œã€‚è¿™é‡Œé‡å†™äº†åˆå§‹åŒ–å‡½æ•°ï¼Œå› ä¸ºç®€å•çš„<code>init</code>æ–¹æ³•å·²ç»ä¸å¤Ÿå®ç°æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½ï¼Œè¿™é‡Œåœ¨åˆå§‹åŒ–å‡½æ•°ä¸­æ·»åŠ äº†æ•°é‡å’Œç‰Œå †çš„å±æ€§ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">instancetype</span>)initWithCardCount:(<span class="built_in">NSUInteger</span>)count usingDeck:(Deck *)deck</div><div class="line">&#123;</div><div class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> init];</div><div class="line">    </div><div class="line">    <span class="keyword">if</span>(<span class="keyword">self</span>)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; count ; i++)</div><div class="line">        &#123;</div><div class="line">            Card *card = [deck drawRandomCard];</div><div class="line">            <span class="keyword">if</span>(card)</div><div class="line">            &#123;</div><div class="line">                [<span class="keyword">self</span>.cards addObject:card];</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span></div><div class="line">            &#123;</div><div class="line">                <span class="keyword">self</span> = <span class="literal">nil</span>;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;    </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç„¶åæœ‰ä¸€ä¸ªæ ¸å¿ƒåŒ¹é…æ–¹æ³•<code>chooseCardAtIndex:</code>ç”¨æ¥å®ç°æ•´ä¸ªæ¸¸æˆçš„åŠŸèƒ½ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)chooseCardAtIndex:(<span class="built_in">NSUInteger</span>)index</div><div class="line">&#123;</div><div class="line">    Card *card = [<span class="keyword">self</span> cardAtIndex:index];</div><div class="line">    </div><div class="line">    <span class="keyword">if</span>(!card.matched)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(card.chosen)</div><div class="line">        &#123;</div><div class="line">            card.chosen = <span class="literal">NO</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">for</span>(Card *otherCard <span class="keyword">in</span> <span class="keyword">self</span>.cards)</div><div class="line">            &#123;</div><div class="line">                <span class="keyword">if</span>(otherCard.chosen &amp;&amp; !otherCard.matched)</div><div class="line">                &#123;</div><div class="line">                    <span class="keyword">int</span> macthScore = [card match:@[otherCard]];</div><div class="line">                    <span class="keyword">if</span>(macthScore)</div><div class="line">                    &#123;</div><div class="line">                        <span class="keyword">self</span>.score += macthScore * MACTH_BOUNS;</div><div class="line">                        card.matched = <span class="literal">YES</span>;</div><div class="line">                        otherCard.matched = <span class="literal">YES</span>;</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">else</span></div><div class="line">                    &#123;</div><div class="line">                        <span class="keyword">self</span>.score -= MISMACTH_PENALTY;</div><div class="line">                        otherCard.chosen = <span class="literal">NO</span>;</div><div class="line">                    &#125;</div><div class="line">                    </div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            card.chosen = <span class="literal">YES</span>;</div><div class="line">            <span class="keyword">self</span>.score -= COST_TO_CHOOSE;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œä½¿ç”¨äº†å¸¸é‡å¹¶ä¸”ä»‹ç»äº†ä¸¤ç§å¸¸é‡çš„ä½¿ç”¨æ–¹å¼</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MISMACTH_PENALTY 2</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> MISMACTH_PENALTY = <span class="number">2</span>;</div></pre></td></tr></table></figure>
<p>å…¶ä¸­<code>#define</code> åªæ˜¯ç®€å•çš„ä½¿ç”¨ <strong>2</strong> æ¥æ›¿æ¢ <strong>MISMACTH_PENALTY</strong>å…³é”®å­—ï¼Œå¹¶æ²¡æœ‰æŒ‡å®šçš„ç±»å‹ï¼Œè€Œ<code>static const int MISMACTH_PENALTY</code>æœ‰æŒ‡å®šçš„ç±»å‹ï¼Œå¹¶ä¸æ˜¯ç®€å•çš„æ›¿æ¢ã€‚</p>
<p>è€Œä¸”å¯¹äºåˆ†æ•°<code>score</code>å±æ€§åœ¨å…±æœ‰å’Œç§æœ‰ä¸­åšäº†ä¸åŒçš„å¤„ç†ã€‚åœ¨å…¬æœ‰ä¸­ä½¿ç”¨äº†<code>readonly</code>å…³é”®å­—æ¥ä¿®é¥°ï¼Œåœ¨ç§æœ‰ä¸­ä½¿ç”¨äº†<code>readwrite</code>å…³é”®å­—æ¥ä¿®é¥°ã€‚æ¥é˜²æ­¢å¤–éƒ¨å¯¹åˆ†æ•°çš„ä¿®æ”¹ã€‚è¾¾åˆ°å¤–éƒ¨åªèƒ½çœ‹åˆ°åˆ†æ•°è€Œä¸èƒ½æ’æ‰‹å¹²é¢„åˆ†æ•°çš„ç›®çš„ã€‚</p>
<h3 id="MatchingGameViewControllerï¼ˆæ§åˆ¶å™¨ï¼‰"><a href="#MatchingGameViewControllerï¼ˆæ§åˆ¶å™¨ï¼‰" class="headerlink" title="MatchingGameViewControllerï¼ˆæ§åˆ¶å™¨ï¼‰"></a>MatchingGameViewControllerï¼ˆæ§åˆ¶å™¨ï¼‰</h3><p>ä½œä¸ºæ•´ä¸ªåº”ç”¨çš„æ§åˆ¶å™¨ï¼Œ<code>MatchingGameViewController</code>è´Ÿè´£æ¥å—UIçš„äº‹ä»¶ï¼Œå¹¶å‘Šè¯‰Modelï¼ŒModelæ ¹æ®æ”¶åˆ°çš„ä¿¡æ¯å¯¹è‡ªèº«æ•°æ®è¿›è¡Œæ”¹å˜åå†é€šçŸ¥æ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨å†æ ¹æ®æ•°æ®æ›´æ–°UIã€‚</p>
<p>å…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ§åˆ¶å™¨æ¥æ”¶åˆ°æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶è§¦å‘<code>touchCardButton:</code>æ–¹æ³•</li>
<li>æ§åˆ¶å™¨ä½¿ç”¨<code>CardMatchingGame</code>ç±»ä¸­çš„<code>chooseCardAtInde:</code>æ–¹æ³•å‘Šè¯‰Modelç‚¹å‡»çš„å¡ç‰Œï¼Œç”±Modelå¯¹åŒ¹é…è¿›è¡Œå¤„ç†</li>
<li>ä½¿ç”¨<code>updateUI</code>æ–¹æ³•å¯¹UIè¿›è¡Œæ›´æ–°</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">IBAction</span>)touchCardButton:(<span class="built_in">UIButton</span> *)sender</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSUInteger</span> cardIndex = [<span class="keyword">self</span>.cardButtons indexOfObject:sender];</div><div class="line">    [<span class="keyword">self</span>.game chooseCardAtIndex:cardIndex];</div><div class="line">    [<span class="keyword">self</span> updateUI];</div><div class="line">    </div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)updateUI</div><div class="line">&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="built_in">UIButton</span> *cardButton <span class="keyword">in</span> <span class="keyword">self</span>.cardButtons)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">NSUInteger</span> cardIndex = [<span class="keyword">self</span>.cardButtons indexOfObject:cardButton];</div><div class="line">        Card *card = [<span class="keyword">self</span>.game cardAtIndex:cardIndex];</div><div class="line">        [cardButton setTitle:[<span class="keyword">self</span> titleForCard:card] forState:<span class="built_in">UIControlStateNormal</span>];</div><div class="line">        [cardButton setBackgroundImage:[<span class="keyword">self</span> backgroundForCard:card] forState:<span class="built_in">UIControlStateNormal</span>];</div><div class="line">        cardButton.enabled = !card.matched;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">self</span>.ScoreLabel.text = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"Score: %ld"</span>,(<span class="keyword">long</span>)<span class="keyword">self</span>.game.score];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œä½¿ç”¨äº†<code>titleForCard:</code>å’Œ<code>backgroundForCard:</code>æç‚¼äº†å¯¹å¡ç‰Œçš„è®¾ç½®</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- (NSString *)titleForCard:(<span class="keyword">Card</span> *)<span class="keyword">card</span></div><div class="line">&#123;</div><div class="line">    return <span class="keyword">card</span>.chosen ? <span class="keyword">card</span>.contents : @<span class="string">""</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (UIImage *)backgroundForCard:(<span class="keyword">Card</span> *)<span class="keyword">card</span></div><div class="line">&#123;</div><div class="line">    return [UIImage imageNamed:<span class="keyword">card</span>.chosen ? @<span class="string">"RectanglecardFace"</span>:@<span class="string">"cardBcak"</span>];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è‡³æ­¤è¿™ä¸ªçº¸ç‰Œæ¸¸æˆçš„Demoå°±å®Œæˆäº†ï¼Œå…·ä½“åŠŸèƒ½æ ·å¼å¦‚ä¸‹å›¾ï¼š</p>
<center><img src="/2017/05/07/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾å­¦ä¹ ç¬”è®°ï¼ˆ3ï¼‰-å®Œæˆç¿»çº¸ç‰Œæ¸¸æˆ/FinalCardMatchingGame.gif" alt="logo"></center>



<h2 id="å…¶ä»–å°çŸ¥è¯†"><a href="#å…¶ä»–å°çŸ¥è¯†" class="headerlink" title="å…¶ä»–å°çŸ¥è¯†"></a>å…¶ä»–å°çŸ¥è¯†</h2><h3 id="æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ çš„é€‰æ‹©"><a href="#æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ çš„é€‰æ‹©" class="headerlink" title="æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ çš„é€‰æ‹©"></a>æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ çš„é€‰æ‹©</h3><p>ä¸€å…±æœ‰ä¸‰ç§æ–¹æ³•æ¥å®šä½æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="string">PlayingCard</span> <span class="meta">*otherCard</span> <span class="string">=</span> <span class="string">[otherCards</span> <span class="string">firstObject];</span></div><div class="line"></div><div class="line"><span class="string">PlayingCard</span> <span class="meta">*otherCard</span> <span class="string">=</span> <span class="string">otherCards[0];</span></div><div class="line"></div><div class="line"><span class="string">PlayingCard</span> <span class="meta">*otherCard</span> <span class="string">=</span> <span class="string">[otherCards</span> <span class="attr">objectAtIndex:0];</span></div></pre></td></tr></table></figure>
<p>å…¶ä¸­å»ºè®®ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ³•ï¼Œå› ä¸ºå¦‚æœå½“æ•°ç»„ä¸ºç©ºçš„æ—¶å€™ï¼Œä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ³•åªä¼šå¾—åˆ°ä¸€ä¸ªnilçš„å…ƒç´ ï¼Œè€Œå¹¶ä¸ä¼šå¼•èµ·å´©æºƒã€‚ä½†æ˜¯ç¬¬äºŒç¬¬ä¸‰ç§æ–¹æ³•åˆ™ä¼šå› ä¸ºæ•°ç»„ä¸‹æ ‡è¶Šç•Œè€Œå¼•èµ·å´©æºƒã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿™ä¸€è¯¾ä¸­å¤§çš„çŸ¥è¯†ç‚¹å¹¶ä¸å¤šï¼Œä¸»è¦è¿˜æ˜¯å¼ºè°ƒäº†MVCçš„é‡è¦æ€§ï¼Œå¹¶ä¸”åœ¨ä»£ç ç¼–å†™çš„è¿‡ç¨‹ä¸­ä¸æ–­å¼ºè°ƒè¦ä¼˜é›…çš„å®ç°åŠŸèƒ½ã€‚è€Œä¸”è¦å¯¹è‡ªå·±çš„ä»£ç è¿›è¡Œä¸€äº›ä¿æŠ¤ï¼Œå¢å¼ºä»£ç çš„å¥å£®æ€§ã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/04/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰-åˆå§‹åŒ–å’Œç¿»çº¸ç‰Œå°Demo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhangzr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhangzr's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/04/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰-åˆå§‹åŒ–å’Œç¿»çº¸ç‰Œå°Demo/" itemprop="url">
                  æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰-åˆ›å»ºç±»ã€æ–¹æ³•å’Œç¿»çº¸ç‰Œå°Demo
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-05-04T14:14:42+08:00">
                2017-05-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>äº”ä¸€çš„æ—¶å€™å‡ºå»ç©äº†ä¸€åœˆï¼Œå›æ¥ç»ˆäºæœ‰æ—¶é—´æ•´ç†ç¬¬äºŒèŠ‚è¯¾çš„ä¸œè¥¿äº†ã€‚<br>è¿™ä¸€èŠ‚è¯¾çš„ä¸ŠåŠèŠ‚è¯¾ä¸»è¦è®²äº†åˆå§‹åŒ–ä¸€äº›ç±»æ—¶å€™ç”¨åˆ°çš„çŸ¥è¯†ç‚¹ï¼Œåœ¨ä¸‹åŠèŠ‚è¯¾ä½¿ç”¨Xcodeåˆ›å»ºäº†ä¸€ä¸ªç¿»çº¸ç‰Œçš„å°Demoã€‚</p>
<h2 id="æ‡’åŠ è½½"><a href="#æ‡’åŠ è½½" class="headerlink" title="æ‡’åŠ è½½"></a>æ‡’åŠ è½½</h2><h4 id="æ‡’åŠ è½½æ˜¯ä»€ä¹ˆ"><a href="#æ‡’åŠ è½½æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ‡’åŠ è½½æ˜¯ä»€ä¹ˆ"></a>æ‡’åŠ è½½æ˜¯ä»€ä¹ˆ</h4><p>æ‡’åŠ è½½ï¼Œä¹Ÿç§°ä½œå»¶æ—¶åŠ è½½ï¼Œé¡¾åæ€ä¹‰æ‡’åŠ è½½å°±æ˜¯åœ¨éœ€è¦åˆ°ä»–çš„å‰ä¸€ç§’æ‰å¼€å§‹åŠ è½½ï¼Œè€Œä¸æ˜¯åœ¨ç±»åˆå§‹åŒ–çš„æ—¶å€™å°±å»åŠ è½½ï¼Œè¿™æ ·åšå¯ä»¥å‡å°‘å†…å­˜çš„å ç”¨ã€‚å…¶å®æ‡’åŠ è½½å°±æ˜¯é‡å†™ä»–çš„getteræ–¹æ³•ã€‚</p>
<h4 id="æ‡’åŠ è½½æœ‰ä»€ä¹ˆå¥½å¤„"><a href="#æ‡’åŠ è½½æœ‰ä»€ä¹ˆå¥½å¤„" class="headerlink" title="æ‡’åŠ è½½æœ‰ä»€ä¹ˆå¥½å¤„"></a>æ‡’åŠ è½½æœ‰ä»€ä¹ˆå¥½å¤„</h4><ul>
<li>ä¸ç”¨å°†æ‰€æœ‰çš„åˆå§‹åŒ–ä»£ç éƒ½å†™åœ¨<code>viewDidLoad:</code> ä¸­ï¼ŒåŠ å¼ºäº†ä»£ç çš„å¯è¯»æ€§</li>
<li>æ¯ä¸ªå˜é‡çš„getteræ–¹æ³•è´Ÿè´£è‡ªå·±çš„å®ä¾‹åŒ–å¤„ç†ï¼ŒåŠ å¼ºç‹¬ç«‹æ€§ã€‚</li>
<li>èŠ‚çº¦å†…å­˜å ç”¨ï¼Œåªæœ‰åˆ°çœŸæ­£è¦ä½¿ç”¨çš„æ—¶å€™æ‰å»åŠ è½½ã€‚</li>
</ul>
<h4 id="å¦‚ä½•å®ç°"><a href="#å¦‚ä½•å®ç°" class="headerlink" title="å¦‚ä½•å®ç°"></a>å¦‚ä½•å®ç°</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span> ,<span class="keyword">strong</span>) <span class="built_in">NSMutableArray</span>    *cards;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)viewDidLoad</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">super</span> viewDidLoad];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="built_in">NSMutableArray</span> *)cards</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span>(_cards == <span class="literal">nil</span>)</div><div class="line">        _cards = [[<span class="built_in">NSMutableArray</span> alloc] init];</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> _cards;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="æ•°ç»„çš„ç®€å•ä½¿ç”¨"><a href="#æ•°ç»„çš„ç®€å•ä½¿ç”¨" class="headerlink" title="æ•°ç»„çš„ç®€å•ä½¿ç”¨"></a>æ•°ç»„çš„ç®€å•ä½¿ç”¨</h2><p>è¯¾ä¸­ä¸»è¦ä»‹ç»äº†ä¸€ä¸‹å¯å˜æ•°ç»„çš„ç®€å•ä½¿ç”¨ï¼Œæ¯”å¦‚æ’å…¥ã€åˆ é™¤çš„å†™æ³•ã€‚è¿˜æœ‰ä½¿ç”¨@[ ]æ–¹æ³•å¿«é€Ÿåˆ›å»ºä¸€ä¸ªæ•°ç»„ã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p>
<ul>
<li>åœ¨æ’å…¥å…ƒç´ çš„æ—¶å€™ä¸€å®šä¸èƒ½æ’å…¥<strong>ç©ºå…ƒç´ </strong>ï¼Œä¸ç„¶ä¼šå¯¼è‡´ç¨‹åºå‘ç”Ÿå´©æºƒã€‚</li>
<li>æ•°ç»„è®¿é—®æ—¶è¦ä¿è¯æ•°ç»„ä¸‹æ ‡ä¸èƒ½è¶Šç•Œï¼Œä¸ç„¶ä¹Ÿä¼šå¯¼è‡´ç¨‹åºå‘ç”Ÿå´©æºƒã€‚</li>
</ul>
<h4 id="æ’å…¥çš„ç®€å•ä½¿ç”¨"><a href="#æ’å…¥çš„ç®€å•ä½¿ç”¨" class="headerlink" title="æ’å…¥çš„ç®€å•ä½¿ç”¨"></a>æ’å…¥çš„ç®€å•ä½¿ç”¨</h4><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)<span class="string">addCard:</span>(Card *)card <span class="string">atTop:</span>(BOOL)atTop</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span>(atTop)</div><div class="line">    &#123;</div><div class="line">        [self.cards <span class="string">insertObject:</span>card <span class="string">atIndex:</span><span class="number">0</span>];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span></div><div class="line">    &#123;</div><div class="line">        [self.cards <span class="string">addObject:</span>card];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="åˆ é™¤çš„ç®€å•ä½¿ç”¨"><a href="#åˆ é™¤çš„ç®€å•ä½¿ç”¨" class="headerlink" title="åˆ é™¤çš„ç®€å•ä½¿ç”¨"></a>åˆ é™¤çš„ç®€å•ä½¿ç”¨</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">- ï¼ˆ<span class="type">Card</span> *ï¼‰drawRandomCard</div><div class="line">&#123;</div><div class="line">    <span class="type">Card</span> *randomCard = <span class="literal">nil</span>;</div><div class="line">    </div><div class="line">    <span class="comment">//è¿™é‡Œæ³¨æ„åˆ¤æ–­æ˜¯å¦ä¸‹æ ‡è¶Šç•Œ</span></div><div class="line">    <span class="keyword">if</span>([<span class="keyword">self</span>.cards <span class="built_in">count</span>])</div><div class="line">    &#123;</div><div class="line">        unsigned index = arc4random() % [<span class="keyword">self</span>.cards <span class="built_in">count</span>];</div><div class="line">        randomCard = <span class="keyword">self</span>.cards[index];</div><div class="line">        [<span class="keyword">self</span>.cards removeObjectAtIndex:index];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> randomCard;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="ä½¿ç”¨-å¿«é€Ÿåˆ›å»ºä¸€ä¸ªæ•°ç»„"><a href="#ä½¿ç”¨-å¿«é€Ÿåˆ›å»ºä¸€ä¸ªæ•°ç»„" class="headerlink" title="ä½¿ç”¨@[ ]å¿«é€Ÿåˆ›å»ºä¸€ä¸ªæ•°ç»„"></a>ä½¿ç”¨@[ ]å¿«é€Ÿåˆ›å»ºä¸€ä¸ªæ•°ç»„</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">NSString</span> *)contents</div><div class="line">&#123;</div><div class="line">    <span class="comment">//è¿™é‡Œä½¿ç”¨@[ ]åˆ›å»ºä¸€ä¸ªæ•°ç»„</span></div><div class="line">    <span class="built_in">NSArray</span> *rankStrings = @[<span class="string">@"?"</span>,<span class="string">@"A"</span>,<span class="string">@"2"</span>,<span class="string">@"3"</span>,<span class="string">@"4"</span>,<span class="string">@"5"</span>,<span class="string">@"6"</span>,<span class="string">@"7"</span>,<span class="string">@"8"</span>,<span class="string">@"9"</span>,<span class="string">@"10"</span>,<span class="string">@"J"</span>,<span class="string">@"Q"</span>,<span class="string">@"K"</span>];</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> [rankStrings[<span class="keyword">self</span>.rank] stringByAppendingString:<span class="keyword">self</span>.suit];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="ç±»æ–¹æ³•"><a href="#ç±»æ–¹æ³•" class="headerlink" title="+ ç±»æ–¹æ³•"></a>+ ç±»æ–¹æ³•</h2><p>ç±»æ–¹æ³•æ˜¯å‘é€æ¶ˆæ¯ç»™ç±»ï¼Œè€Œä¸æ˜¯ç»™å¯¹è±¡å®ä¾‹ã€‚ç±»æ–¹æ³•ä¸å¯ä»¥ä½¿ç”¨å…¶ä»–å®ä¾‹å˜é‡ã€‚<br>ä¸€èˆ¬åªæœ‰ä¸¤ç§æƒ…å†µä¸‹ä¼šä½¿ç”¨ç±»æ–¹æ³•</p>
<ul>
<li>åˆ›å»ºäº‹ç‰©ï¼Œç±»çš„åˆå§‹åŒ–æ—¶ã€‚</li>
<li>å·¥å…·æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªå¸¸äº®çš„æ—¶å€™ã€‚</li>
</ul>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">+ (NSArray *)ValidSuits</div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> @[@<span class="string">"â™¥ï¸"</span>,@<span class="string">"â™¦ï¸"</span>,@<span class="string">"â™£ï¸"</span>,@<span class="string">"â™ ï¸"</span>];</div><div class="line">&#125;</div><div class="line">- (<span class="keyword">void</span>)<span class="string">setSuit:</span>(NSString *)suit</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> ([ [PlayingCard ValidSuits] <span class="string">containsObject:</span>suit]) &#123;</div><div class="line">        _suit = suit;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="initæ–¹æ³•"><a href="#initæ–¹æ³•" class="headerlink" title="initæ–¹æ³•"></a>initæ–¹æ³•</h2><p>initæ–¹æ³•ç”¨ä½œåˆå§‹åŒ–æ—¶ï¼Œä»–å¿…é¡»ä¸allocæˆå¯¹å‡ºç°å¹¶ä¸”ç´§è·Ÿallocåã€‚è€Œä¸”åªè°ƒç”¨ä¸€æ¬¡ã€‚<br><code>instancetype</code>ä½œä¸ºæ–¹æ³•çš„è¿”å›å€¼ï¼Œåªèƒ½ä½œä¸ºè¿”å›å€¼ï¼Œä¸èƒ½åƒ<code>id</code>é‚£æ ·ä½œä¸ºå‚æ•°ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">instancetype</span>)init</div><div class="line">&#123;</div><div class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> init];</div><div class="line">    </div><div class="line">    <span class="keyword">if</span>(<span class="keyword">self</span>)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">for</span>(<span class="built_in">NSString</span> *suit <span class="keyword">in</span> [PlayingCard validSuits])</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="built_in">NSUInteger</span> rank = <span class="number">1</span>; rank &lt;= [PlayingCard maxRank]; rank++)</div><div class="line">            &#123;</div><div class="line">                PlayingCard *card = [[PlayingCard alloc] init];</div><div class="line">                card.rank = rank;</div><div class="line">                card.suit = suit;</div><div class="line">                [<span class="keyword">self</span> addCard:card];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="ç¿»çº¸ç‰Œå°Demo"><a href="#ç¿»çº¸ç‰Œå°Demo" class="headerlink" title="ç¿»çº¸ç‰Œå°Demo"></a>ç¿»çº¸ç‰Œå°Demo</h2><p>è¿™ä¸ªDemoä¸»è¦æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨storyboardæ¥åˆ›å»ºUIå¹¶ä¸”å°†å®ƒä¸ä»£ç ç›¸å…³è”ã€‚æ•´ä½“çš„ä½¿ç”¨ä¸‹æ¥å¹¶æ²¡æœ‰å¤ªå¤šçš„ä»£ç ã€‚å®Œæˆä¹‹åçš„ä»£ç å’Œstoryboardçš„æˆªå›¾å¦‚ä¸‹ã€‚</p>
<center><img src="/2017/05/04/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰-åˆå§‹åŒ–å’Œç¿»çº¸ç‰Œå°Demo/finalShow.png" alt="logo"></center>

<p>å®Œæˆä¹‹åçš„æ ·å¼å›¾ï¼š</p>
<center><img src="/2017/05/04/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰-åˆå§‹åŒ–å’Œç¿»çº¸ç‰Œå°Demo/FinalFlips.gif" alt="logo"></center>

<p>æŒ‰é’®ç›¸å…³çš„ä»£ç </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">- (IBAction)<span class="string">touchCardButton:</span>(UIButton *)sender</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span>([sender.currentTitle length])</div><div class="line">    &#123;</div><div class="line">        UIImage *cardImage = [UIImage <span class="string">imageNamed:</span>@<span class="string">"cardBcak"</span>];</div><div class="line">        [sender <span class="string">setBackgroundImage:</span>cardImage <span class="string">forState:</span>UIControlStateNormal];</div><div class="line">        [sender <span class="string">setTitle:</span>@<span class="string">""</span> <span class="string">forState:</span>UIControlStateNormal];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span></div><div class="line">    &#123;</div><div class="line">        UIImage *cardImage = [UIImage <span class="string">imageNamed:</span>@<span class="string">"RectanglecardFace"</span>];</div><div class="line">        [sender <span class="string">setBackgroundImage:</span>cardImage <span class="string">forState:</span>UIControlStateNormal];</div><div class="line">        [sender <span class="string">setTitle:</span>@<span class="string">"Aâ™£ï¸"</span> <span class="string">forState:</span>UIControlStateNormal];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    self.flipCount++;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è®¡æ•°æ¡†ç›¸å…³çš„ä»£ç ï¼Œè¿™é‡Œé‡å†™äº†filpCountçš„setteræ–¹æ³•æ¥æ›´æ”¹è®¡æ•°æ¡†ä¸­çš„å€¼ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)setFlipCount:(<span class="keyword">int</span>)flipCount</div><div class="line">&#123;</div><div class="line">    _flipCount = flipCount;</div><div class="line">    </div><div class="line">    <span class="keyword">self</span>.flipsLabel.text = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"Flips: %d"</span>,<span class="keyword">self</span>.flipCount];</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/26/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰-iOSçš„MVCæ¡†æ¶/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhangzr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhangzr's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/26/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰-iOSçš„MVCæ¡†æ¶/" itemprop="url">
                  æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰---iOSçš„MVCæ¡†æ¶
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-04-26T15:34:44+08:00">
                2017-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>è¿˜è®°å¾—å¤§äºŒå†³å¿ƒè¦å­¦ä¹ iOSå¼€å‘çš„æ—¶å€™æ›¾ç»çœ‹è¿‡æ–¯å¦ç¦å¤§å­¦å…¬å¼€è¯¾ä¸­ç™½èƒ¡å­è€å¤´çš„ç»å…¸<a href="http://open.163.com/special/opencourse/ios7.html?referered=http%3A%2F%2Fopen.163.com%2Fspecial%2Fopencourse%2Fios7.html" target="_blank" rel="external">è§†é¢‘</a>ã€‚ä¸è¿‡å› ä¸ºå½“æ—¶å¯¹iOSè¿˜ä¸æ˜¯éå¸¸äº†è§£ï¼Œå¯¼è‡´çœ‹ç€çœ‹ç€å°±æ‰”ä¸‹äº†ã€‚ç°åœ¨æ¯•ä¸šä¹Ÿæœ‰å°†è¿‘ä¸€å¹´çš„æ—¶é—´äº†ï¼Œå†³å®šé‡æ–°åˆ·ä¸€éè¿™ä¸ªç»å…¸çš„å…¬å¼€è¯¾è§†é¢‘ï¼Œå¹¶ä¸”å†™ä¸‹å­¦ä¹ ç¬”è®°æ”¾åˆ°è¿™é‡Œã€‚</p>
<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>MVCè®¾è®¡æ¨¡å¼ï¼Œå…¨åä¸º Model-View-Controllerï¼Œæ˜¯æ¨¡å‹ï¼ˆModelï¼‰-è§†å›¾ï¼ˆViewï¼‰-æ§åˆ¶å™¨ï¼ˆControllerï¼‰çš„ç¼©å†™ã€‚å®ƒå°†ä¸€ä¸ªç¨‹åºåˆ†ä¸ºäº†ä¸‰ä¸ªé˜µè¥ã€‚å›¾ç‰‡æ¥è‡ªäº<a href="https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewPodcast?id=480479762" target="_blank" rel="external">è¯¾ä»¶</a></p>
<center> <img src="/2017/04/26/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰-iOSçš„MVCæ¡†æ¶/MVC.png" alt="logo"></center>

<h2 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h2><ul>
<li>æ¨¡å‹ï¼ˆModelï¼‰ï¼šè´Ÿè´£å°è£…ã€å­˜å‚¨å’Œå¤„ç†æ•°æ®ã€‚</li>
<li>è§†å›¾ï¼ˆViewï¼‰ï¼šè´Ÿè´£å±•ç¤ºæ•°æ®ï¼Œç›‘å¬ç”¨æˆ·çš„åŠ¨ä½œã€‚</li>
<li>æ§åˆ¶å™¨ï¼ˆControllerï¼‰ï¼šè´Ÿè´£å¤„ç†é€»è¾‘ä¸šåŠ¡ï¼Œå“åº”äº‹ä»¶ï¼ŒåŠ å·¥æ•°æ®ã€‚</li>
</ul>
<h2 id="é€šä¿¡"><a href="#é€šä¿¡" class="headerlink" title="é€šä¿¡"></a>é€šä¿¡</h2><h3 id="æ§åˆ¶å™¨ï¼ˆControllerï¼‰ä¸è§†å›¾ï¼ˆViewï¼‰"><a href="#æ§åˆ¶å™¨ï¼ˆControllerï¼‰ä¸è§†å›¾ï¼ˆViewï¼‰" class="headerlink" title="æ§åˆ¶å™¨ï¼ˆControllerï¼‰ä¸è§†å›¾ï¼ˆViewï¼‰"></a>æ§åˆ¶å™¨ï¼ˆControllerï¼‰ä¸è§†å›¾ï¼ˆViewï¼‰</h3><h4 id="æ§åˆ¶å™¨ï¼ˆControllerï¼‰-gt-è§†å›¾ï¼ˆViewï¼‰ï¼šå®Œå…¨æ§åˆ¶"><a href="#æ§åˆ¶å™¨ï¼ˆControllerï¼‰-gt-è§†å›¾ï¼ˆViewï¼‰ï¼šå®Œå…¨æ§åˆ¶" class="headerlink" title="æ§åˆ¶å™¨ï¼ˆControllerï¼‰ -&gt; è§†å›¾ï¼ˆViewï¼‰ï¼šå®Œå…¨æ§åˆ¶"></a>æ§åˆ¶å™¨ï¼ˆControllerï¼‰ -&gt; è§†å›¾ï¼ˆViewï¼‰ï¼šå®Œå…¨æ§åˆ¶</h4><p>æ§åˆ¶å™¨å¯ä»¥å®Œå…¨çŸ¥é“è§†å›¾çš„æ‰€æœ‰è¡Œä¸ºï¼Œå…·æœ‰å®Œå…¨æ§åˆ¶æƒã€‚</p>
<p>è¿™é‡Œæåˆ°äº† <code>outlet</code>ï¼Œoutletï¼ˆè¾“å‡ºå£ï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„OCå±æ€§ï¼Œç”¨å…³é”®å­—<code>IBOutlet</code>å£°æ˜ï¼Œè¾“å‡ºå£æ˜¯åœ¨æ§åˆ¶å™¨ç±»çš„å¤´æ–‡ä»¶ä¸­å£°æ˜</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">@property</span>  (<span class="keyword">nonatomic</span>,<span class="keyword">retain</span>)    <span class="keyword">IBOutlet</span> <span class="built_in">UIButton</span>    *mybutton;</div></pre></td></tr></table></figure>
<p>ä¸Šè¾¹ä»£ç ä¸­å°±å£°æ˜äº†ä¸€ä¸ª<code>mybutton</code>çš„è¾“å‡ºå£ï¼Œå¯ä»¥è®¾ç½®å®ƒæŒ‡å‘IBä¸­çš„ä»»ä½•ä¸€ä¸ªbuttonï¼Œé€šè¿‡<code>mybutton</code>è¿™ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥è·å¾—åˆ°è¯¥buttonçš„ç›¸å…³å±æ€§ã€‚</p>
<h4 id="è§†å›¾ï¼ˆViewï¼‰-gt-æ§åˆ¶å™¨ï¼ˆControllerï¼‰ï¼šç›²çš„é€šä¿¡"><a href="#è§†å›¾ï¼ˆViewï¼‰-gt-æ§åˆ¶å™¨ï¼ˆControllerï¼‰ï¼šç›²çš„é€šä¿¡" class="headerlink" title="è§†å›¾ï¼ˆViewï¼‰ -&gt; æ§åˆ¶å™¨ï¼ˆControllerï¼‰ï¼šç›²çš„é€šä¿¡"></a>è§†å›¾ï¼ˆViewï¼‰ -&gt; æ§åˆ¶å™¨ï¼ˆControllerï¼‰ï¼šç›²çš„é€šä¿¡</h4><p>å› ä¸ºViewæ˜¯é€šç”¨çš„ï¼Œæ‰€ä»¥ä»–ä¸çŸ¥é“è°ƒç”¨ä»–çš„Controllerï¼Œæ‰€ä»¥ä»–åªèƒ½é€šè¿‡ç›²é€šä¿¡çš„æ–¹å¼ä¸Controlleré€šä¿¡ã€‚</p>
<ul>
<li><p><strong>target é€šä¿¡</strong></p>
<p>æ§åˆ¶å™¨æœ¬èº«æœ‰ä¸€ä¸ªç›®æ ‡æ–¹æ³•ï¼ˆtargetï¼‰ï¼Œç„¶åå°†è¿™ä¸ªç›®æ ‡ç»™è§†å›¾çš„è¡Œä¸ºæ–¹æ³•ï¼ˆactionï¼‰,å½“è§†å›¾ä¸­è§¦å‘è¿™ä¸ªè¡Œä¸ºæ—¶ï¼Œè§†å›¾ä¼šå‘é€æ¶ˆæ¯ç»™æ§åˆ¶å™¨çš„ç›®æ ‡å‘Šè¯‰æ§åˆ¶å™¨æœ‰äººå¯¹ä»–è¿›è¡Œäº†æ“ä½œã€‚æ¯”å¦‚æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ã€æ»‘åŠ¨æ¡çš„æ»‘åŠ¨äº‹ä»¶ã€‚</p>
</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">UIButton</span> *myBtn = [[<span class="built_in">UIButton</span> alloc] init];</div><div class="line">[myBtn addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(myBtnClicked) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</div></pre></td></tr></table></figure>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- <span class="params">(void)</span>myBtnClicked</div><div class="line">&#123;</div><div class="line">    NSLog<span class="params">(@<span class="string">"myBtn clicked"</span>)</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ¯”å¦‚ä¸Šè¾¹ä¸¤æ®µä»£ç å°±è¡¨ç¤ºäº†ä¸€ä¸ªæŒ‰é’®è®¾ç½®targetä¸º<code>self</code>ï¼Œå¹¶ä¸”è®¾ç½®è¡Œä¸ºä¸º<code>myBtnClicked</code>,æ‰€ä»¥å½“ç”¨æˆ·ç‚¹å‡»äº†è¿™ä¸ªæŒ‰é’®æ—¶ï¼Œæˆ‘ä»¬å°±ä¼šæ‰“å°å‡º myBtn clicked ã€‚</p>
<ul>
<li><p><strong>ä»£ç†ï¼ˆDelegateï¼‰ä¸æ•°æ®æºï¼ˆDataSourceï¼‰é€šè®¯</strong></p>
<p>ä»£ç†ï¼ˆDelegateï¼‰ï¼Œè§†å›¾å‘æ§åˆ¶å™¨è¯¢é—®ä¸€äº›è‡ªå·±æ— æ³•å†³å®šçš„äº‹æƒ…çš„æ—¶å€™ï¼Œæˆ–è€…è®©æ§åˆ¶å™¨å¸®å¿™æ¥å®Œæˆä¸€äº›ä»–è‡ªå·±æ— æ³•å®Œæˆçš„äº‹æƒ…çš„æ—¶å€™ä¼šç”¨åˆ°ä»£ç†æ–¹æ³•ã€‚æ¯”å¦‚é€šè¿‡ä¸€äº›å…³é”®å­—ï¼ˆwillã€shouldã€didï¼‰æ¥æè¿°è§†å›¾å½“å‰çš„æƒ…å†µï¼Œæ§åˆ¶å™¨å°±å¯ä»¥é€šè¿‡æƒ…å†µè¿›è¡Œåˆ¤æ–­ã€‚æ¯”å¦‚<code>UITableView</code>ä¸­å°±æœ‰è®¸å¤šä»£ç†æ–¹æ³•æ¥å‘Šè¯‰æ§åˆ¶å™¨è§†å›¾å½“å‰çš„çŠ¶æ€ã€‚</p>
<p>æ•°æ®æºï¼ˆDataSourceï¼‰ï¼Œè§†å›¾ä¸è¯¥æŒæœ‰ä»–çš„æ•°æ®ï¼Œå¦‚æœè§†å›¾æŒæœ‰äº†æ•°æ®å°±è¿èƒŒäº†ä»–çš„é€šç”¨æ€§ã€‚æ•°æ®åº”è¯¥å±äºåœ¨æ¨¡å‹ä¸­ï¼Œä»–ä¸UIæ— å…³ï¼Œæ‰€ä»¥æ§åˆ¶å™¨å¿…é¡»æœ‰æ–¹æ³•å‘Šè¯‰è§†å›¾ä»–æœ‰å¤šå°‘æ•°æ®ã€‚æ•°æ®æºæ˜¯ä¸€ç§ç‰¹æ®Šçš„ä»£ç†ã€‚è¿˜æ˜¯æ‹¿<code>UITableView</code>ä¸¾ä¾‹å­ï¼Œä»–å°±æœ‰æ•°æ®æºæ–¹æ³•æ¥è·å–æ•°æ®ã€‚</p>
</li>
</ul>
<h3 id="æ§åˆ¶å™¨ï¼ˆControllerï¼‰ä¸-æ¨¡å‹ï¼ˆModelï¼‰"><a href="#æ§åˆ¶å™¨ï¼ˆControllerï¼‰ä¸-æ¨¡å‹ï¼ˆModelï¼‰" class="headerlink" title="æ§åˆ¶å™¨ï¼ˆControllerï¼‰ä¸ æ¨¡å‹ï¼ˆModelï¼‰"></a>æ§åˆ¶å™¨ï¼ˆControllerï¼‰ä¸ æ¨¡å‹ï¼ˆModelï¼‰</h3><h4 id="æ§åˆ¶å™¨ï¼ˆControllerï¼‰-gt-æ¨¡å‹ï¼ˆModelï¼‰ï¼šå®Œå…¨æ§åˆ¶"><a href="#æ§åˆ¶å™¨ï¼ˆControllerï¼‰-gt-æ¨¡å‹ï¼ˆModelï¼‰ï¼šå®Œå…¨æ§åˆ¶" class="headerlink" title="æ§åˆ¶å™¨ï¼ˆControllerï¼‰ -&gt; æ¨¡å‹ï¼ˆModelï¼‰ï¼šå®Œå…¨æ§åˆ¶"></a>æ§åˆ¶å™¨ï¼ˆControllerï¼‰ -&gt; æ¨¡å‹ï¼ˆModelï¼‰ï¼šå®Œå…¨æ§åˆ¶</h4><p>æ§åˆ¶å™¨å¯ä»¥å®Œæˆæ§åˆ¶æ¨¡å‹ï¼Œå¯ä»¥çŸ¥é“æ¨¡å‹ä¸­çš„ä¸€åˆ‡ã€‚</p>
<h4 id="æ¨¡å‹ï¼ˆModelï¼‰-gt-æ§åˆ¶å™¨ï¼ˆControllerï¼‰-å¹¿æ’­é€šçŸ¥"><a href="#æ¨¡å‹ï¼ˆModelï¼‰-gt-æ§åˆ¶å™¨ï¼ˆControllerï¼‰-å¹¿æ’­é€šçŸ¥" class="headerlink" title="æ¨¡å‹ï¼ˆModelï¼‰ -&gt; æ§åˆ¶å™¨ï¼ˆControllerï¼‰: å¹¿æ’­é€šçŸ¥"></a>æ¨¡å‹ï¼ˆModelï¼‰ -&gt; æ§åˆ¶å™¨ï¼ˆControllerï¼‰: å¹¿æ’­é€šçŸ¥</h4><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¨¡å‹æ˜¯ä¸å¯ä»¥å’Œæ§åˆ¶å™¨é€šä¿¡çš„ï¼Œä¸è¿‡å½“æ¨¡å‹ä¸­çš„æ•°æ®å‘ç”Ÿäº†æ”¹å˜ï¼Œä»–å°±éœ€è¦å‘ŠçŸ¥æ§åˆ¶å™¨ï¼Œæˆ‘çš„æ•°æ®å˜äº†ã€‚æ¨¡å‹å¯ä»¥åƒç”µå°ä¸€æ ·å‘å¸ƒå¹¿æ’­ï¼Œæ§åˆ¶å™¨ä¸­å¯ä»¥æ¥æ”¶åˆ°æ¨¡å‹å‘å‡ºçš„ä¿¡å·å¹¶è¿›è¡Œå¤„ç†ã€‚</p>
<ul>
<li><p><strong>é€šçŸ¥ï¼ˆNotificationï¼‰</strong></p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œæ§åˆ¶å™¨ä¸­ä¼šæ³¨å†Œæˆä¸ºç›‘å¬è€…</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)<span class="string">addObserver:</span>(id)observer <span class="string">selector:</span>(SEL)aSelector <span class="string">name:</span></div></pre></td></tr></table></figure>
</li>
</ul>
<p>å½“æ¨¡å‹ä¸­çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ¨¡å‹ä¼šå‘å‡ºé€šçŸ¥</p>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">- <span class="params">(void)</span>postNotification:<span class="params">(NSNotification *)</span>notification;</div><div class="line"></div><div class="line">- <span class="params">(void)</span>postNotificationName:<span class="params">(NSString *)</span>aName object:<span class="params">(id)</span>anObject;</div></pre></td></tr></table></figure>
<p>æˆä¸ºç›‘å¬è€…çš„æ§åˆ¶å™¨å°±ä¼šæ¥å—åˆ°æ¥è‡ªæ¨¡å‹çš„ä¿¡å·ï¼Œåšå‡ºç›¸åº”çš„æ”¹å˜ã€‚</p>
<ul>
<li><p><strong>KVOï¼ˆé”®å€¼å¯¹è§‚å¯Ÿï¼‰</strong></p>
<p>ä¸é€šçŸ¥ä¸€æ ·ï¼Œåœ¨æ§åˆ¶å™¨ä¸­æ³¨å†Œæˆä¸ºè§‚å¯Ÿè€…ï¼Œå®ç°å›è°ƒæ–¹æ³•ï¼Œåœ¨æ¨¡å‹å‘ç”Ÿæ”¹å˜çš„æ—¶å€™å¯ä»¥é€šè¿‡æ¿€æ´»å›è°ƒæ–¹æ³•è®©æ§åˆ¶å™¨åšå‡ºä¸€äº›åŠ¨ä½œã€‚</p>
</li>
</ul>
<h3 id="æ¨¡å‹ï¼ˆModelï¼‰ä¸è§†å›¾ï¼ˆViewï¼‰ï¼šä¸èƒ½"><a href="#æ¨¡å‹ï¼ˆModelï¼‰ä¸è§†å›¾ï¼ˆViewï¼‰ï¼šä¸èƒ½" class="headerlink" title="æ¨¡å‹ï¼ˆModelï¼‰ä¸è§†å›¾ï¼ˆViewï¼‰ï¼šä¸èƒ½"></a>æ¨¡å‹ï¼ˆModelï¼‰ä¸è§†å›¾ï¼ˆViewï¼‰ï¼šä¸èƒ½</h3><p>å¾ˆæ˜æ˜¾ï¼Œæœ€å¼€å§‹çš„å›¾ç‰‡ä¸­ï¼Œæ¨¡å‹å’Œè§†å›¾ä¸­é—´æ˜¯åŒé»„çº¿ã€‚æ¨¡å‹æ˜¯å®Œå…¨ç‹¬ç«‹äºUIçš„ï¼Œæ‰€ä»¥æ¨¡å‹å’Œè§†å›¾æ˜¯å®Œå…¨ä¸å¯ä»¥é€šä¿¡çš„ã€‚</p>
<h3 id="å¤šä¸ªMVCç»“æ„åŒæ—¶ä½œç”¨"><a href="#å¤šä¸ªMVCç»“æ„åŒæ—¶ä½œç”¨" class="headerlink" title="å¤šä¸ªMVCç»“æ„åŒæ—¶ä½œç”¨"></a>å¤šä¸ªMVCç»“æ„åŒæ—¶ä½œç”¨</h3><center> <img src="/2017/04/26/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰-iOSçš„MVCæ¡†æ¶/MVC_together.png" alt="logo"></center>

<h3 id="ä¸€å®šä¸è¦å†™æˆçš„æ ·å­"><a href="#ä¸€å®šä¸è¦å†™æˆçš„æ ·å­" class="headerlink" title="ä¸€å®šä¸è¦å†™æˆçš„æ ·å­"></a>ä¸€å®šä¸è¦å†™æˆçš„æ ·å­</h3><center> <img src="/2017/04/26/æ–¯å¦ç¦å¤§å­¦iOSå…¬å¼€è¯¾å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰-iOSçš„MVCæ¡†æ¶/NO_MVC_together.png" alt="logo"></center>



<h2 id="Objective-C"><a href="#Objective-C" class="headerlink" title="Objective-C"></a>Objective-C</h2><p>ç¬¬ä¸€èŠ‚è¯¾ä¸­è¿˜è®²äº†ä¸€äº›OCä¸­çš„å±æ€§å’ŒçŸ¥è¯†ç‚¹ã€‚</p>
<h3 id="ç±»æ–‡ä»¶ç±»å‹"><a href="#ç±»æ–‡ä»¶ç±»å‹" class="headerlink" title="ç±»æ–‡ä»¶ç±»å‹"></a>ç±»æ–‡ä»¶ç±»å‹</h3><ul>
<li>.hæ–‡ä»¶ï¼šå…¬å¼€APIï¼Œå…¶ä»–ç±»å¯ä»¥è°ƒç”¨ï¼Œå‘Šè¯‰å…¶ä»–ç±»æˆ‘èƒ½åšä»€ä¹ˆ <em>what I can do</em></li>
<li>.mæ–‡ä»¶ï¼šç§æœ‰APIï¼Œå…¶ä»–ç±»ä¸å¯ç”¨ï¼Œå®ç°.hæ–‡ä»¶ä¸­çš„æ–¹æ³•<em>how to do</em></li>
</ul>
<h3 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><ul>
<li>strongï¼šåœ¨å †ä¸­ä¿æŒæ‰€æŒ‡å‘çš„ä¸œè¥¿ï¼Œåªè¦æœ‰ä¸€ä¸ªå¼ºæŒ‡é’ˆæŒ‡å‘å°±ä¼šå­˜åœ¨ï¼Œå¦åˆ™å°±ä¼šé‡Šæ”¾ã€‚</li>
<li>weakï¼šå¦‚æœæ²¡æœ‰å¼ºæŒ‡é’ˆæŒ‡å‘çš„è¯ï¼Œä¼šè¢«è®¾ç½®æˆnilæŒ‡é’ˆã€‚</li>
<li>nonatomicï¼šéåŸå­æ€§ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œä¸èƒ½è®©ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è®¾ç½®è¯¥å±æ€§ã€‚</li>
</ul>
<h2 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h2><p>ç¬¬ä¸€èŠ‚è¯¾è®²çš„ä¸œè¥¿æ¯”è¾ƒåŸºç¡€ï¼Œä½†æ˜¯ç°åœ¨å›æ¥å†çœ‹ä¼šå‘ç°è¿˜æ˜¯ä¼šå­¦åˆ°ä¸€äº›æ–°çš„çŸ¥è¯†ã€‚è¿™èŠ‚è¯¾é‡ç‚¹ä»‹ç»äº†MVCæ¶æ„ï¼Œåˆç†çš„ä½¿ç”¨MVCå¯ä»¥é™ä½ç±»ä¹‹é—´çš„è€¦åˆæ€§ï¼Œæé«˜ä»£ç è´¨é‡ã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/24/ä½¿ç”¨UIBezierPathç»˜åˆ¶æ³¢æµª/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhangzr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhangzr's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/24/ä½¿ç”¨UIBezierPathç»˜åˆ¶æ³¢æµª/" itemprop="url">
                  ä½¿ç”¨UIBezierPathç»˜åˆ¶æ³¢æµª
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-04-24T21:29:54+08:00">
                2017-04-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æˆ‘ä»¬ç»å¸¸ä¼šåœ¨ä¸€äº›åº”ç”¨é‡Œè¾¹è§åˆ°æ³¢æµªçš„åŠ¨ç”»ï¼Œæ¯”å¦‚ä¹‹å‰æ·˜å®ä¸ªäººä¸­å¿ƒé¡¶éƒ¨çš„åŒæ³¢æµªï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªæ•ˆæœæ˜¯æ€ä¹ˆå®ç°çš„ã€‚</p>
<h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><h4 id="ç»˜åˆ¶æ³¢æµª"><a href="#ç»˜åˆ¶æ³¢æµª" class="headerlink" title="ç»˜åˆ¶æ³¢æµª"></a>ç»˜åˆ¶æ³¢æµª</h4><p>å®é™…ä¸Šè¿™ä¸ªæ³¢æµªå°±æ˜¯ä½¿ç”¨æ­£å¼¦æ›²çº¿å…¬å¼ <code>y=Asin(wx+u)+K</code>ç»˜åˆ¶å‡ºæ¥çš„ï¼Œå…·ä½“æ ·å¼å¦‚å›¾ã€‚</p>
<center><img src="/2017/04/24/ä½¿ç”¨UIBezierPathç»˜åˆ¶æ³¢æµª/sin.png" alt="logo"></center>

<p>å„ä¸ªå‚æ•°ä»£è¡¨çš„æ„ä¹‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>Aï¼šæŒ¯å¹…,æ§åˆ¶æ³¢æµªçš„é«˜åº¦ï¼›</li>
<li>wï¼šè§’é€Ÿåº¦ w = 2PI/Tï¼›</li>
<li>Tï¼šå‘¨æœŸï¼›</li>
<li>uï¼šåˆç›¸ï¼›</li>
<li>Kï¼šyè½´æ–¹å‘ä¸Šçš„åç§»é‡ã€‚</li>
</ul>
<h4 id="åŠ¨èµ·æ¥"><a href="#åŠ¨èµ·æ¥" class="headerlink" title="åŠ¨èµ·æ¥"></a>åŠ¨èµ·æ¥</h4><p>å¦‚ä½•èƒ½è®©æ³¢æµªåœ¨ç”»é¢ä¸ŠåŠ¨èµ·æ¥å‘¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>CADisplayLink</code>æˆ–è€…<code>NSTimer</code>ä½¿ç”»é¢ä¸­çš„çº¿æ¡ä¸€ç›´åœ¨ç»˜åˆ¶ã€‚</p>
<p>è¿™é‡Œæ¨èä½¿ç”¨<code>CADisplayLink</code> å› ä¸ºå®ƒå¯ä»¥ä¿æŒè¾ƒé«˜çš„åˆ·æ–°ç‡ï¼Œåˆ·æ–°ç‡ä¸ºæ¯ç§’60æ¬¡ã€‚</p>
<p>åœ¨ä½¿ç”¨<code>CADisplayLink</code>æ—¶è°ƒç”¨UIViewä¸­çš„<code>drawRect</code>æ–¹æ³•ä¸åœåœ°é‡ç»˜é¡µé¢ã€‚å°±å¯ä»¥å®ç°åŠ¨ç”»çš„æ ·å¼ã€‚</p>
<p>å®ç°çš„æ•ˆæœå°±æ˜¯è¿™æ ·ï¼š</p>
<center><img src="/2017/04/24/ä½¿ç”¨UIBezierPathç»˜åˆ¶æ³¢æµª/Wave.gif" alt="logo"></center>


<h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>é¦–å…ˆæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ª<code>UIView</code>å¹¶ä¸”æ³¨å†Œä¸€ä¸ª<code>CADisplayLink</code>å®šæ—¶å™¨ï¼Œå¹¶æŠŠå®ƒåŠ å…¥åˆ°<code>NSMainRunLoop</code>ä¸­ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">self</span>.waveDisplayLink=[<span class="built_in">CADisplayLink</span> displayLinkWithTarget:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(runWave)];</div><div class="line">[<span class="keyword">self</span>.waveDisplayLink addToRunLoop:[<span class="built_in">NSRunLoop</span> mainRunLoop] forMode:<span class="built_in">NSRunLoopCommonModes</span>];</div></pre></td></tr></table></figure>
<p>åœ¨è°ƒç”¨çš„<code>runWave</code>ä¸­æˆ‘ä»¬ä½¿ç”¨<code>setNeedsDisplay</code>æ–¹æ³•è°ƒç”¨UIViewçš„<code>drawRect</code>æ–¹æ³•ï¼Œåœ¨è¿™é‡Œæˆ‘æ”¹å˜äº†Kçš„å€¼ï¼Œä¹Ÿå°±æ˜¯<code>_waterLineY</code>æ¥è®©æ³¢æµªä¸€ç›´å‘ä¸‹ç§»åŠ¨ï¼Œå¹¶ä¸”é€šè¿‡æ”¹å˜<code>_waveCycle</code>è®©æ³¢æµªç§»åŠ¨ã€‚</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- (void)runWave</div><div class="line">&#123;</div><div class="line">    _waterLineY += <span class="number">0</span>.<span class="number">1</span><span class="comment">;</span></div><div class="line">    _waveCycle += <span class="number">0</span>.<span class="number">1</span><span class="comment">;    </span></div><div class="line">    </div><div class="line">    [self setNeedsDisplay]<span class="comment">;</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç„¶ååœ¨<code>drawRect</code>ä¸­ç»˜åˆ¶æ­£å¼¦æ›²çº¿å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)drawRect:(<span class="built_in">CGRect</span>)rect</div><div class="line">&#123;</div><div class="line">    <span class="built_in">UIBezierPath</span> *wavePath = [<span class="built_in">UIBezierPath</span> bezierPath];</div><div class="line">    </div><div class="line">    [wavePath moveToPoint:<span class="built_in">CGPointMake</span>(<span class="number">0</span>, <span class="keyword">self</span>.waterLineY)];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">float</span> x = <span class="number">0</span> ; x &lt;=WIDTH ; x++)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">CGFloat</span> y = _waveAmplitude * sin(x/<span class="number">180</span>*M_PI + <span class="number">4</span>*_waveCycle/M_PI ) * <span class="number">5</span> + _waterLineY;</div><div class="line">        </div><div class="line">        [wavePath addLineToPoint:<span class="built_in">CGPointMake</span>(x, y)];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    [wavePath addLineToPoint:<span class="built_in">CGPointMake</span>(WIDTH, HEIGHT)];</div><div class="line">    [wavePath addLineToPoint:<span class="built_in">CGPointMake</span>(<span class="number">0</span>, HEIGHT)];</div><div class="line">    [wavePath closePath];</div><div class="line"></div><div class="line">    <span class="keyword">self</span>.shapeLayer.path = wavePath.CGPath;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/20/è·å–å½“å‰Viewæ‰€åœ¨çš„ViewController/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhangzr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhangzr's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/20/è·å–å½“å‰Viewæ‰€åœ¨çš„ViewController/" itemprop="url">
                  è·å–å½“å‰Viewæ‰€åœ¨çš„ViewController
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-04-20T14:57:59+08:00">
                2017-04-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>è·å–å½“å‰viewæ‰€åœ¨çš„viewController</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">- (UIViewController*)viewController</div><div class="line">&#123;</div><div class="line">    <span class="keyword">for</span> (UIView* <span class="keyword">next</span> = [<span class="keyword">self</span> superview]; <span class="keyword">next</span>; <span class="keyword">next</span> = <span class="keyword">next</span>.superview) &#123;</div><div class="line">        UIResponder* nextResponder = [<span class="keyword">next</span> nextResponder];</div><div class="line">        <span class="keyword">if</span> ([nextResponder <span class="symbol">isKindOfClass:</span>[UIViewController <span class="class"><span class="keyword">class</span>]]) &#123;</span></div><div class="line">            <span class="keyword">return</span> (UIViewController*)nextResponder;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">nil</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/14/ä½¿ç”¨CAGradientLayeråˆ¶ä½œæ¸å˜æŠ˜çº¿å›¾/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhangzr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhangzr's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/14/ä½¿ç”¨CAGradientLayeråˆ¶ä½œæ¸å˜æŠ˜çº¿å›¾/" itemprop="url">
                  ä½¿ç”¨CAGradientLayeråˆ¶ä½œæ¸å˜æŠ˜çº¿å›¾
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-04-14T10:15:34+08:00">
                2017-04-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä¹‹å‰å†™äº†ä¸€ä¸‹UIBezierPathçš„<a href="http://zhangzr.cn/2017/04/05/iOS-UIBezierPath%E7%BB%98%E5%88%B6%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" target="_blank" rel="external">ç®€å•ä½¿ç”¨</a>ï¼Œè¿™æ¬¡å°±å†™å†™UIBezierPathçš„å…·ä½“ä½¿ç”¨å§ã€‚</p>
<p>å¦‚æœå¹³æ—¶æˆ‘ä»¬é‡åˆ°ä¸€äº›éœ€è¦åšå›¾è¡¨çš„éœ€æ±‚æ—¶ï¼Œä½¿ç”¨UIBezierPathå°±å†é€‚åˆä¸è¿‡äº†ï¼Œä»Šå¤©æˆ‘å°±æ‰“ç®—ä½¿ç”¨å®ƒæ¥ç»˜åˆ¶ä¸€ä¸ªæŠ˜çº¿å›¾ã€‚å…ˆä¸Šæ•ˆæœå›¾ï¼š</p>
<center><img src="/2017/04/14/ä½¿ç”¨CAGradientLayeråˆ¶ä½œæ¸å˜æŠ˜çº¿å›¾/finally_effect .gif" alt="logo"></center>

<h2 id="ç»˜åˆ¶èƒŒæ™¯"><a href="#ç»˜åˆ¶èƒŒæ™¯" class="headerlink" title="ç»˜åˆ¶èƒŒæ™¯"></a>ç»˜åˆ¶èƒŒæ™¯</h2><p>é¦–å…ˆæˆ‘ä»¬å…ˆæ¥ç»˜åˆ¶ä¸€ä¸‹èƒŒæ™¯ï¼ŒèƒŒæ™¯æ¯”è¾ƒç®€å•ï¼Œä¸€ä¸ªèƒŒæ™¯è‰²ä¸Šè¾¹åŠ ä¸Šäº”æ¡ç»†ç»†çš„çº¿å°±å¯ä»¥äº†ã€‚<br>é¦–å…ˆæˆ‘ä»¬å…ˆç”¨UIBezierPathæ¥ç”»ä¸€æ¡ç›´çº¿ï¼Œç„¶åæŠŠå®ƒç»™åˆ°CAShapeLayerï¼Œæœ€åæŠŠCAShapeLayeræ·»åŠ åˆ°å½“å‰viewçš„sublayerä¸­å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">for</span>(int i = <span class="number">0</span> <span class="comment">; i &lt; 5 ; i++)</span></div><div class="line">&#123;</div><div class="line">    UIBezierPath *<span class="keyword">bgPath </span>= [UIBezierPath <span class="keyword">bezierPath];</span></div><div class="line">    [<span class="keyword">bgPath </span><span class="keyword">moveToPoint:CGPointMake(30, </span>HEIGHT/<span class="number">2</span>-<span class="number">100</span>+i*<span class="number">30</span>)]<span class="comment">;</span></div><div class="line">    [<span class="keyword">bgPath </span><span class="keyword">addLineToPoint:CGPointMake(WIDTH-30, </span>HEIGHT/<span class="number">2</span>-<span class="number">100</span>+i*<span class="number">30</span>)]<span class="comment">;</span></div><div class="line">    </div><div class="line">    CAShapeLayer *<span class="keyword">bgPathLayer </span>= [CAShapeLayer layer]<span class="comment">;</span></div><div class="line">    <span class="keyword">bgPathLayer.path </span>= <span class="keyword">bgPath.CGPath;</span></div><div class="line">    <span class="keyword">bgPathLayer.lineWidth </span>= <span class="number">1</span><span class="comment">;</span></div><div class="line">    <span class="keyword">bgPathLayer.fillColor </span>= [UIColor clearColor].CGColor<span class="comment">;</span></div><div class="line">    <span class="keyword">bgPathLayer.strokeColor </span>= [UIColor colorWithRed:<span class="number">70</span>/<span class="number">255</span>.<span class="number">0</span> green:<span class="number">94</span>/<span class="number">255</span>.<span class="number">0</span> <span class="keyword">blue:116/255.0 </span>alpha:<span class="number">0</span>.<span class="number">3</span>].CGColor<span class="comment">;</span></div><div class="line">    <span class="keyword">bgPathLayer.frame </span>= CGRectMake(<span class="number">0</span>, <span class="number">0</span>, WIDTH, HEIGHT)<span class="comment">;</span></div><div class="line">    </div><div class="line">    </div><div class="line">    [<span class="keyword">self.layer </span><span class="keyword">addSublayer:bgPathLayer];</span></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å®ç°äº†ä¸Šè¾¹çš„ä»£ç ä¹‹åå°±ä¼šçœ‹åˆ°è¿™æ ·çš„ï¼š</p>
<center><img src="/2017/04/14/ä½¿ç”¨CAGradientLayeråˆ¶ä½œæ¸å˜æŠ˜çº¿å›¾/background.png" alt="logo"></center>

<h2 id="ç»˜åˆ¶æ›²çº¿"><a href="#ç»˜åˆ¶æ›²çº¿" class="headerlink" title="ç»˜åˆ¶æ›²çº¿"></a>ç»˜åˆ¶æ›²çº¿</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æ¥ç»˜åˆ¶æŠ˜çº¿å›¾çš„ä¸»è¦éƒ¨åˆ†ã€‚ã€‚ã€‚æŠ˜çº¿ã€‚æˆ‘ä¹‹å‰ç»˜åˆ¶èƒŒæ™¯çš„æ—¶å€™ä½¿ç”¨äº†5æ ¹çº¿æ‰€ä»¥åœ¨è¿™è¾¹æˆ‘ä½¿ç”¨éšæœºå‡½æ•°<code>arc4random()</code>éšæœºç”Ÿæˆæ¯ä¸ªç‚¹çš„ä½ç½®ã€‚æ‰€ä»¥å¯èƒ½ç”Ÿæˆçš„æŠ˜çº¿å›¾ä¼šä¸æœ€å¼€å§‹çš„æ•ˆæœå›¾æœ‰ä¸€ç‚¹ä¸åŒã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">UIBezierPath</span> *linePath = [<span class="built_in">UIBezierPath</span> bezierPath];</div><div class="line"></div><div class="line"><span class="built_in">NSInteger</span> i = arc4random()%<span class="number">5</span>;</div><div class="line">[linePath moveToPoint:<span class="built_in">CGPointMake</span>(<span class="number">30</span>, HEIGHT/<span class="number">2</span><span class="number">-100</span>+i*<span class="number">30</span>)];</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span> ; j &lt; <span class="number">30</span> ; j++)</div><div class="line">&#123;</div><div class="line">    i = arc4random()%<span class="number">5</span>;</div><div class="line">    </div><div class="line">    [linePath addLineToPoint:<span class="built_in">CGPointMake</span>(<span class="number">30</span> + (WIDTH<span class="number">-60</span>)*j/<span class="number">30</span>, HEIGHT/<span class="number">2</span><span class="number">-100</span>+i*<span class="number">30</span>)];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">CAShapeLayer</span> *linePathLayer = [<span class="built_in">CAShapeLayer</span> layer];</div><div class="line">linePathLayer.path = linePath.CGPath;</div><div class="line">linePathLayer.lineWidth = <span class="number">3</span>;</div><div class="line">linePathLayer.fillColor = [<span class="built_in">UIColor</span> clearColor].CGColor;</div><div class="line">linePathLayer.strokeColor = [<span class="built_in">UIColor</span> whiteColor].CGColor;</div><div class="line">linePathLayer.lineCap = kCALineCapRound;</div><div class="line">linePathLayer.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, WIDTH, HEIGHT);</div><div class="line"></div><div class="line"></div><div class="line">[<span class="keyword">self</span>.layer addSublayer:linePathLayer];</div></pre></td></tr></table></figure>
<center><img src="/2017/04/14/ä½¿ç”¨CAGradientLayeråˆ¶ä½œæ¸å˜æŠ˜çº¿å›¾/afterdrawLine.png" alt="logo"></center>

<p>åˆ°è¿™é‡Œæˆ‘ä»¬æŠ˜çº¿å›¾çš„éƒ¨åˆ†åŸºæœ¬å°±å·²ç»å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦å®ç°ä»–çš„æ¸å˜è‰²å’ŒåŠ¨ç”»çš„åŠŸèƒ½ã€‚</p>
<h2 id="ç»˜åˆ¶æ¸å˜"><a href="#ç»˜åˆ¶æ¸å˜" class="headerlink" title="ç»˜åˆ¶æ¸å˜"></a>ç»˜åˆ¶æ¸å˜</h2><h3 id="CAGradientLayer"><a href="#CAGradientLayer" class="headerlink" title="CAGradientLayer"></a>CAGradientLayer</h3><h4 id="ä¸¤ç§é¢œè‰²"><a href="#ä¸¤ç§é¢œè‰²" class="headerlink" title="ä¸¤ç§é¢œè‰²"></a>ä¸¤ç§é¢œè‰²</h4><p>ç»˜åˆ¶æ¸å˜è‰²æˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°<code>CAGradientLayer</code>ï¼Œä»–æ˜¯ç”¨æ¥ç”Ÿæˆä¸¤ç§æˆ–æ›´å¤šé¢œè‰²å¹³æ»‘æ¸å˜çš„ã€‚</p>
<p>æˆ‘ä»¬å…ˆç®€å•ä½¿ç”¨<code>CAGradientLayer</code>æ¥ç»˜åˆ¶ä¸€ä¸ªå¯¹è§’çº¿æ¸å˜çš„é¢œè‰²ã€‚é¦–å…ˆæˆ‘ä»¬è¦èµ‹äºˆ<code>colors</code>å±æ€§ã€‚è¿™ä¸ªæ•°ç»„æ¥å—çš„æ˜¯<code>CGColorRef</code>ç±»å‹çš„å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡<code>bridge</code>è½¬æ¢ä»–ã€‚</p>
<p><code>CAGradientLayer</code>ä¹Ÿæœ‰<code>startPoint</code>å’Œ<code>endPoint</code>å±æ€§ï¼Œè¿™ä¸¤ä¸ªå±æ€§å†³å®šäº†æ¸å˜çš„æ–¹å‘ã€‚å…¶ä¸­ä»£è¡¨å·¦ä¸Šè§’çš„åæ ‡ä¸º{0ï¼Œ0}ï¼Œä»£è¡¨å³ä¸‹è§’çš„åæ ‡ä¸º{1,1}ã€‚</p>
<p>è¿è¡Œè¿™æ ·ä¸€æ®µä»£ç ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CAGradientLayer</span> *gradientLayer = [<span class="built_in">CAGradientLayer</span> layer];</div><div class="line">gradientLayer.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, WIDTH, HEIGHT);</div><div class="line">[gradientLayer setColors:@[(__bridge <span class="keyword">id</span>)[<span class="built_in">UIColor</span> blueColor].CGColor,</div><div class="line">                           (__bridge <span class="keyword">id</span>)[<span class="built_in">UIColor</span> redColor].CGColor</div><div class="line">                           ]];</div><div class="line">[gradientLayer setStartPoint:<span class="built_in">CGPointMake</span>(<span class="number">0</span>, <span class="number">0</span>)];</div><div class="line">[gradientLayer setEndPoint:<span class="built_in">CGPointMake</span>(<span class="number">1</span>, <span class="number">0</span>)];</div><div class="line"></div><div class="line"></div><div class="line">[<span class="keyword">self</span>.layer addSublayer:gradientLayer];</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å°±ä¼šçœ‹åˆ°ä¸€ä¸ªä»å·¦åˆ°å³çš„è“è‰²æ¸å˜ä¸ºçº¢è‰²çš„æ ·å¼ã€‚</p>
<center><img src="/2017/04/14/ä½¿ç”¨CAGradientLayeråˆ¶ä½œæ¸å˜æŠ˜çº¿å›¾/CAGradientLayer.png" alt="logo"></center>

<h4 id="å¤šç§é¢œè‰²"><a href="#å¤šç§é¢œè‰²" class="headerlink" title="å¤šç§é¢œè‰²"></a>å¤šç§é¢œè‰²</h4><p>å½“ç„¶äº†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™<code>colors</code>æ·»åŠ æ›´å¤šçš„é¢œè‰²ï¼Œç„¶åä½¿ç”¨<code>locations</code>å±æ€§æ¥è°ƒæ•´ç©ºé—´ã€‚åŒæ ·çš„ä¹Ÿæ˜¯ä»¥0.0ä»£è¡¨å¼€å§‹ã€1.0ä»£è¡¨ç»“æŸã€‚</p>
<p><code>locations</code>æ•°ç»„ä¸æ˜¯ä¸€å®šè¦è®¾ç½®çš„ï¼Œä½†æ˜¯å¦‚æœä½ è®¾ç½®äº†ä»–ï¼Œå°±ä¸€å®šè¦å’Œ<code>colors</code>çš„å¤§å°ä¿æŒä¸€è‡´ï¼Œå¦åˆ™ä¼šå‡ºç°ä¸€ä¸ªç©ºç™½çš„æ¸å˜ã€‚</p>
<p>åƒè¿™æ ·ä¸€æ®µä»£ç ï¼Œæˆ‘åœ¨ä¹‹å‰çš„åŸºç¡€ä¸Šå¤šåŠ äº†ä¸€ä¸ªç»¿è‰²ï¼Œå¹¶ä¸”é€šè¿‡<code>locations</code>å°†ä»–ä»¬è®¾ç½®æˆäº†ä¸‰ç­‰åˆ†ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CAGradientLayer</span> *gradientLayer = [<span class="built_in">CAGradientLayer</span> layer];</div><div class="line">gradientLayer.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, WIDTH, HEIGHT);</div><div class="line">[gradientLayer setColors:@[(__bridge <span class="keyword">id</span>)[<span class="built_in">UIColor</span> blueColor].CGColor,</div><div class="line">                           (__bridge <span class="keyword">id</span>)[<span class="built_in">UIColor</span> redColor].CGColor,</div><div class="line">                           (__bridge <span class="keyword">id</span>)[<span class="built_in">UIColor</span> greenColor].CGColor</div><div class="line">                           ]];</div><div class="line">[gradientLayer setLocations:@[@<span class="number">0.0</span>,</div><div class="line">                              @<span class="number">0.5</span>,</div><div class="line">                              @<span class="number">1.0</span></div><div class="line">                              ]];</div><div class="line">[gradientLayer setStartPoint:<span class="built_in">CGPointMake</span>(<span class="number">0</span>, <span class="number">0</span>)];</div><div class="line">[gradientLayer setEndPoint:<span class="built_in">CGPointMake</span>(<span class="number">1</span>, <span class="number">0</span>)];</div><div class="line"></div><div class="line">[<span class="keyword">self</span>.layer addSublayer:gradientLayer];</div></pre></td></tr></table></figure>
<center><img src="/2017/04/14/ä½¿ç”¨CAGradientLayeråˆ¶ä½œæ¸å˜æŠ˜çº¿å›¾/CAGradientLayer2.png" alt="logo"></center>

<p>å¦‚æœæƒ³è®©æ¸å˜çœ‹èµ·æ¥è‡ªç„¶ä¸€äº›ï¼Œå¯ä»¥ä½¿ç”¨ä¸€äº›ç›¸è¿‘çš„é¢œè‰²ã€‚æ¯”å¦‚é»„è‰²ã€æ©™è‰²ã€çº¢è‰²ã€‚</p>
<center><img src="/2017/04/14/ä½¿ç”¨CAGradientLayeråˆ¶ä½œæ¸å˜æŠ˜çº¿å›¾/CAGradientLayer3.png" alt="logo"></center>

<h3 id="ç»˜åˆ¶è’™å±‚"><a href="#ç»˜åˆ¶è’™å±‚" class="headerlink" title="ç»˜åˆ¶è’™å±‚"></a>ç»˜åˆ¶è’™å±‚</h3><p>æ¸å˜ä¹Ÿæœ‰äº†ï¼ŒæŠ˜çº¿å›¾ä¹Ÿæœ‰äº†ï¼Œæ¥ä¸‹æ¥åªè¦æŠŠæ¸å˜çš„é¢œè‰²è®¾ç½®åˆ°æŠ˜çº¿å›¾ä¸Šå°±å¯ä»¥äº†ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>setMask</code>æ¥è®¾ç½®ä¸€ä¸ªé®ç½©å±‚ã€‚</p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">CALayer *gradientSuperLayer = <span class="string">[CALayer layer]</span>;</div><div class="line"><span class="string">[gradientSuperLayer addSublayer:gradientLayer]</span>;</div><div class="line"><span class="string">[gradientSuperLayer setMask:linePathLayer]</span>;</div><div class="line"></div><div class="line"></div><div class="line"><span class="string">[self.layer addSublayer:gradientSuperLayer]</span>;</div></pre></td></tr></table></figure>
<p>è¿™æ ·ä¸€æ¥ï¼Œæ¸å˜çš„æŠ˜çº¿å›¾å°±åšå‡ºæ¥äº†ã€‚</p>
<center><img src="/2017/04/14/ä½¿ç”¨CAGradientLayeråˆ¶ä½œæ¸å˜æŠ˜çº¿å›¾/CAGradientLayerLine.png" alt="logo"></center>

<h2 id="åŠ¨ç”»çš„å®ç°"><a href="#åŠ¨ç”»çš„å®ç°" class="headerlink" title="åŠ¨ç”»çš„å®ç°"></a>åŠ¨ç”»çš„å®ç°</h2><p>æ ·å¼å·²ç»å¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åªè¦ä½¿ç”¨<code>CABasicAnimation</code>æ¥è®¾ç½®ä¸€ä¸ªç®€å•çš„åŠ¨ç”»å°±å¯ä»¥å®ç°åŠŸèƒ½äº†ã€‚</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">CABasicAnimation *drawAnimation = [CABasicAnimation animationWithKeyPath:@<span class="string">"strokeEnd"</span>]<span class="comment">;</span></div><div class="line">drawAnimation.duration = <span class="number">2</span> <span class="comment">;        //åŠ¨ç”»æ—¶é—´</span></div><div class="line">drawAnimation.fromValue = @<span class="number">0</span><span class="comment">;</span></div><div class="line">drawAnimation.toValue= @<span class="number">1</span><span class="comment">;</span></div><div class="line">drawAnimation.fillMode = kCAFillModeForwards<span class="comment">;</span></div><div class="line">drawAnimation.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut]<span class="comment">;    //åŠ¨ç”»æ’­æ”¾çš„æ–¹å¼</span></div><div class="line">[layer <span class="keyword">addAnimation:drawAnimation </span>forKey:@<span class="string">"draw"</span>]<span class="comment">;</span></div></pre></td></tr></table></figure>
<center><img src="/2017/04/14/ä½¿ç”¨CAGradientLayeråˆ¶ä½œæ¸å˜æŠ˜çº¿å›¾/finally_effect2.gif" alt="logo"></center>


<p>ä»¥ä¸Šå°±æ˜¯æ¸å˜è‰²æŠ˜çº¿å›¾çš„ç®€å•å®ç°æ–¹å¼ï¼Œä»…ä½œä¸ºä¸ªäººå­¦ä¹ ç¬”è®°ï¼Œå¦‚æœæœ‰ä»€ä¹ˆåœ°æ–¹å†™çš„ä¸å¯¹è¿˜è¯·å¤§ç¥ä»¬æ‰¹è¯„æŒ‡æ•™ã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/05/iOS-UIBezierPathç»˜åˆ¶çš„ç®€å•ä½¿ç”¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhangzr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhangzr's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/05/iOS-UIBezierPathç»˜åˆ¶çš„ç®€å•ä½¿ç”¨/" itemprop="url">
                  iOS-UIBezierPathç»˜åˆ¶çš„ç®€å•ä½¿ç”¨
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-04-05T16:35:41+08:00">
                2017-04-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>åœ¨iOSä¸­ï¼Œæˆ‘ä»¬å¦‚æœæƒ³è¦ç»˜åˆ¶ä¸€äº›çŸ¢é‡è·¯å¾„ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ä¾›æˆ‘ä»¬é€‰æ‹©<code>UIBezierPath</code>å’Œ<code>Core Graphics</code>,å…¶ä¸­<code>UIBezierPath</code>æ˜¯å±äº<code>UIKit</code>æ¡†æ¶çš„ï¼Œä¹Ÿæ˜¯å¯¹<code>Core Graphics</code>çš„ä¸€ç§å°è£…ï¼Œæ‰€ä»¥ç›¸å¯¹ä½¿ç”¨èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦è°ƒç”¨ç³»ç»Ÿç»™å¥½çš„æ¥å£å°±å¯ä»¥å®ç°å¾ˆå¼ºå¤§çš„åŠŸèƒ½ã€‚ä½†æ¯•ç«Ÿæ˜¯åŸºäº<code>Core Graphics</code>å°è£…çš„ï¼Œæ‰€ä»¥å¦‚æœéœ€è¦å®ç°æ›´å¤æ‚çš„åŠŸèƒ½è¿˜æ˜¯<code>Core Graphics</code>æ¯”è¾ƒå¥½ç”¨ã€‚</p>
<p>åˆšæ‰å·²ç»è¯´è¿‡äº†ï¼Œä½¿ç”¨<code>UIBezierPath</code>éå¸¸ç®€å•ï¼Œä½¿ç”¨å®ƒåªéœ€è¦è¿™æ ·ï¼š</p>
<ul>
<li>1.é‡å†™UIViewçš„drawRectæ–¹æ³•ã€‚</li>
<li>2.åˆ›å»ºUIBezierPathå¹¶ä¸”è®¾ç½®ä¸€äº›å¸¸ç”¨å±æ€§ã€‚</li>
<li>3.è®¾ç½®UIBezierPathçš„é¢œè‰²ã€‚</li>
<li>4.æ¸²æŸ“å®Œæˆç»˜åˆ¶ã€‚</li>
</ul>
<p>å¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±ç»˜åˆ¶ä¸€äº›å¸¸ç”¨çš„å½¢çŠ¶æ¥çœ‹çœ‹å§ã€‚</p>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><h3 id="ç›´çº¿"><a href="#ç›´çº¿" class="headerlink" title="ç›´çº¿"></a>ç›´çº¿</h3><p>ç”»ä¸€æ¡ç›´çº¿æˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ›å»ºä¸€ä¸ªUIBezierPathï¼Œç„¶åä½¿ç”¨</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)moveToPoint:(CGPoint)<span class="built_in">point</span>;</div></pre></td></tr></table></figure>
<p>æ–¹æ³•å°†ç”»ç¬”ç§»åŠ¨è‡³æˆ‘ä»¬æƒ³è¦ç»˜åˆ¶çš„èµ·ç‚¹ä½ç½®ï¼Œç„¶åä½¿ç”¨</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)addLineToPoint:(CGPoint)<span class="built_in">point</span>;</div></pre></td></tr></table></figure>
<p>æ–¹æ³•ä¼ å…¥æˆ‘ä»¬æƒ³è¦ç»˜åˆ¶è¿™æ¡ç›´çº¿çš„ç»ˆç‚¹ä½ç½®ï¼Œæœ€åè®¾ç½®å…¶ä»–å±æ€§å’Œé¢œè‰²åæ¸²æŸ“å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">UIBezierPath *aPath = [[UIBezierPath alloc] init]<span class="comment">;</span></div><div class="line">aPath.lineWidth = <span class="number">10</span>.<span class="number">0</span><span class="comment">;	//è®¾ç½®çº¿å®½</span></div><div class="line">aPath.lineCapStyle = kCGLineCapRound<span class="comment">;   //è®¾ç½®ç«¯ç‚¹æ ·å¼ä¸ºåœ†è§’</span></div><div class="line">[aPath <span class="keyword">moveToPoint:CGPointMake(100, </span><span class="number">200</span>)]<span class="comment">;</span></div><div class="line">[aPath <span class="keyword">addLineToPoint:CGPointMake(WIDTH-100, </span><span class="number">200</span>)]<span class="comment">;</span></div><div class="line"></div><div class="line">UIColor *color = [UIColor redColor]<span class="comment">;</span></div><div class="line">[color set]<span class="comment">;</span></div><div class="line"></div><div class="line">[aPath stroke]<span class="comment">;</span></div></pre></td></tr></table></figure>
<center><img src="/2017/04/05/iOS-UIBezierPathç»˜åˆ¶çš„ç®€å•ä½¿ç”¨/drawMyLine.png" alt="logo"></center>


<h3 id="çŸ©å½¢ï¼ˆæ­£æ–¹å½¢ï¼‰"><a href="#çŸ©å½¢ï¼ˆæ­£æ–¹å½¢ï¼‰" class="headerlink" title="çŸ©å½¢ï¼ˆæ­£æ–¹å½¢ï¼‰"></a>çŸ©å½¢ï¼ˆæ­£æ–¹å½¢ï¼‰</h3><p>çŸ©å½¢ä¸€ç±»çš„å›¾å½¢æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ç³»ç»Ÿæä¾›çš„ç±»æ–¹æ³•ï¼Œç›´æ¥èµ‹äºˆå…¶<code>frame</code>å°±å¯ä»¥äº†ã€‚<br><code>- (void)stroke;</code>æ–¹æ³•ç”¨äºç»˜åˆ¶è¾¹æ¡†ï¼Œå¦‚æœæƒ³è¦å°†é¢œè‰²å¡«å……æ»¡æ•´ä¸ªç»˜åˆ¶åŒºåŸŸä½¿ç”¨<code>- (void)fill;</code>å°±å¯ä»¥äº†ã€‚</p>
<p>å¦å¤–ï¼Œå¦‚æœæƒ³ç»˜åˆ¶æ­£æ–¹å½¢ï¼Œåªéœ€è¦è®¾ç½®<code>frame</code>æ—¶å°†é•¿å’Œå®½è®¾ç½®ç›¸ç­‰å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">UIBezierPath</span> *aPath = [<span class="built_in">UIBezierPath</span> bezierPathWithRect:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">200</span>, WIDTH<span class="number">-200</span>, <span class="number">100</span>)];</div><div class="line">aPath.lineWidth = <span class="number">1.0</span>;</div><div class="line"></div><div class="line"><span class="built_in">UIColor</span> *color = [<span class="built_in">UIColor</span> redColor];</div><div class="line">[color set];</div><div class="line"></div><div class="line">[aPath stroke]; <span class="comment">//ç»˜åˆ¶çº¿æ¡†</span></div><div class="line"><span class="comment">//    [aPath fill];   //å¡«å……æ»¡è·¯å¾„</span></div></pre></td></tr></table></figure>
<center><img src="/2017/04/05/iOS-UIBezierPathç»˜åˆ¶çš„ç®€å•ä½¿ç”¨/drawMyRect.png" alt="logo"></center>



<h3 id="åœ†è§’çŸ©å½¢ï¼ˆåœ†è§’æ­£æ–¹å½¢ï¼‰"><a href="#åœ†è§’çŸ©å½¢ï¼ˆåœ†è§’æ­£æ–¹å½¢ï¼‰" class="headerlink" title="åœ†è§’çŸ©å½¢ï¼ˆåœ†è§’æ­£æ–¹å½¢ï¼‰"></a>åœ†è§’çŸ©å½¢ï¼ˆåœ†è§’æ­£æ–¹å½¢ï¼‰</h3><p>åœ†è§’çŸ©å½¢ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ç³»ç»Ÿæä¾›çš„ç±»æ–¹æ³•ï¼Œä¸çŸ©å½¢ä¸åŒçš„æ˜¯éœ€è¦å¤šä¼ å…¥ä¸€ä¸ªåœ†è§’çš„å‚æ•°è€Œå·²ã€‚</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">UIBezierPath *aPath = [UIBezierPath <span class="keyword">bezierPathWithRoundedRect:CGRectMake(100, </span><span class="number">200</span>, WIDTH-200, WIDTH-200) cornerRadius:<span class="number">5</span>]<span class="comment">;</span></div><div class="line">aPath.lineWidth = <span class="number">5</span>.<span class="number">0</span><span class="comment">;</span></div><div class="line"></div><div class="line">UIColor *color = [UIColor redColor]<span class="comment">;</span></div><div class="line">[color set]<span class="comment">;</span></div><div class="line"></div><div class="line">[aPath stroke]<span class="comment">;</span></div></pre></td></tr></table></figure>
<center><img src="/2017/04/05/iOS-UIBezierPathç»˜åˆ¶çš„ç®€å•ä½¿ç”¨/drawMyCornerRect.png" alt="logo"></center>



<h3 id="æ¤­åœ†å½¢ï¼ˆåœ†å½¢ï¼‰"><a href="#æ¤­åœ†å½¢ï¼ˆåœ†å½¢ï¼‰" class="headerlink" title="æ¤­åœ†å½¢ï¼ˆåœ†å½¢ï¼‰"></a>æ¤­åœ†å½¢ï¼ˆåœ†å½¢ï¼‰</h3><p>æ¤­åœ†å½¢ä¹Ÿæ˜¯ä¸€æ ·ï¼Œåªè¦ç›´æ¥ä½¿ç”¨ç³»ç»Ÿæä¾›çš„ç±»æ–¹æ³•å°±å¯ä»¥äº†ã€‚åŒç†ï¼Œå¦‚æœæƒ³ç»˜åˆ¶åœ†å½¢ï¼Œåªéœ€è¦è®¾ç½®<code>frame</code>çš„é•¿å’Œå®½ç›¸ç­‰å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">UIBezierPath *aPath = [UIBezierPath <span class="keyword">bezierPathWithOvalInRect:CGRectMake(100, </span><span class="number">200</span>, WIDTH-200, WIDTH-200)]<span class="comment">;</span></div><div class="line">aPath.lineWidth  = <span class="number">5</span>.<span class="number">0</span><span class="comment">;</span></div><div class="line"></div><div class="line">UIColor *color = [UIColor redColor]<span class="comment">;</span></div><div class="line">[color set]<span class="comment">;</span></div><div class="line"></div><div class="line">[aPath stroke]<span class="comment">;</span></div></pre></td></tr></table></figure>
<center><img src="/2017/04/05/iOS-UIBezierPathç»˜åˆ¶çš„ç®€å•ä½¿ç”¨/drawMyOval.png" alt="logo"></center>



<h3 id="å¼§"><a href="#å¼§" class="headerlink" title="å¼§"></a>å¼§</h3><p>å¼§çº¿ã€‚ã€‚ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ç³»ç»Ÿæä¾›çš„ç±»æ–¹æ³•ï¼Œéœ€è¦ä¼ å…¥çš„å‚æ•°å¤šäº†<code>radius</code>åŠå¾„ã€<code>startAngle</code>å¼€å§‹è§’åº¦ã€<code>endAngle</code>ç»“æŸè§’åº¦ã€<code>clockwise</code>æ˜¯å¦é¡ºæ—¶é’ˆã€‚</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="string">UIBezierPath</span> <span class="meta">*aPath</span> <span class="string">=</span> <span class="string">[UIBezierPath</span> <span class="attr">bezierPathWithArcCenter:CGPointMake(WIDTH/2,</span> <span class="string">HEIGHT/2)</span></div><div class="line"><span class="attr">                                                     radius:</span><span class="number">150</span></div><div class="line"><span class="attr">                                                 startAngle:</span><span class="number">0</span></div><div class="line"><span class="attr">                                                   endAngle:</span><span class="string">M_PI</span></div><div class="line"><span class="attr">                                                  clockwise:</span><span class="literal">YES</span><span class="string">];</span></div><div class="line"><span class="string">aPath.lineWidth</span> <span class="string">=</span> <span class="number">5.0</span><span class="string">;</span></div><div class="line"></div><div class="line"><span class="string">UIColor</span> <span class="meta">*color</span> <span class="string">=</span> <span class="string">[UIColor</span> <span class="string">redColor];</span></div><div class="line"><span class="string">[color</span> <span class="string">set];</span></div><div class="line"></div><div class="line"><span class="string">[aPath</span> <span class="string">stroke];</span></div></pre></td></tr></table></figure>
<center><img src="/2017/04/05/iOS-UIBezierPathç»˜åˆ¶çš„ç®€å•ä½¿ç”¨/drawMyArc.png" alt="logo"></center>



<h3 id="è´å¡å°”æ›²çº¿"><a href="#è´å¡å°”æ›²çº¿" class="headerlink" title="è´å¡å°”æ›²çº¿"></a>è´å¡å°”æ›²çº¿</h3><p>è´å¡å°”æ›²çº¿åœ¨å¾ˆå¤šæƒ…å†µä¸‹éƒ½ä¼šä½¿ç”¨åˆ°ï¼Œå¸¸ç”¨çš„éƒ½æ˜¯Control Pointæœ‰ä¸€ä¸ªç‚¹æˆ–è€…ä¸¤ä¸ªç‚¹çš„ã€‚</p>
<h4 id="å•ç‚¹æ§åˆ¶"><a href="#å•ç‚¹æ§åˆ¶" class="headerlink" title="å•ç‚¹æ§åˆ¶"></a>å•ç‚¹æ§åˆ¶</h4><center><img src="/2017/04/05/iOS-UIBezierPathç»˜åˆ¶çš„ç®€å•ä½¿ç”¨/brizerSingle.jpeg" alt="logo"></center>

<p>ç»˜åˆ¶è´å¡å°”æ›²çº¿å’Œå‰è¾¹çš„ç»˜åˆ¶ç›´çº¿åŸºæœ¬ç›¸åŒï¼Œå…ˆç”»ç¬”ç§»åŠ¨åˆ°æˆ‘ä»¬çš„èµ·ç‚¹ä½ç½®ï¼Œç„¶åä½¿ç”¨è´å¡å°”æ›²çº¿ç‰¹æœ‰çš„æ–¹æ³•è¿›è¡Œç»˜åˆ¶ï¼Œä¼ å…¥æ§åˆ¶ç‚¹ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">UIBezierPath</span> *aPath = [[<span class="built_in">UIBezierPath</span> alloc] init];</div><div class="line"></div><div class="line">[aPath moveToPoint:<span class="built_in">CGPointMake</span>(<span class="number">100</span>, <span class="number">200</span>)];</div><div class="line">[aPath addQuadCurveToPoint:<span class="built_in">CGPointMake</span>(WIDTH<span class="number">-100</span>, <span class="number">200</span>) controlPoint:<span class="built_in">CGPointMake</span>(WIDTH/<span class="number">2</span><span class="number">-100</span>, <span class="number">100</span>)];</div><div class="line">aPath.lineWidth = <span class="number">5.0</span>;</div><div class="line"></div><div class="line"><span class="built_in">UIBezierPath</span> *pointA = [<span class="built_in">UIBezierPath</span> bezierPathWithRect:<span class="built_in">CGRectMake</span>(WIDTH/<span class="number">2</span><span class="number">-102</span>, <span class="number">98</span>, <span class="number">4</span>, <span class="number">4</span>)];</div><div class="line">pointA.lineWidth = <span class="number">2</span>;</div><div class="line"></div><div class="line"><span class="built_in">UIColor</span> *color = [<span class="built_in">UIColor</span> redColor];</div><div class="line">[color set];</div><div class="line"></div><div class="line">[aPath stroke];</div><div class="line">[pointA fill];</div></pre></td></tr></table></figure>
<center><img src="/2017/04/05/iOS-UIBezierPathç»˜åˆ¶çš„ç®€å•ä½¿ç”¨/drawMyBezierWithOneControlPoint.png" alt="logo"></center>


<h4 id="å¤šç‚¹æ§åˆ¶ï¼ˆåŒç‚¹ï¼‰"><a href="#å¤šç‚¹æ§åˆ¶ï¼ˆåŒç‚¹ï¼‰" class="headerlink" title="å¤šç‚¹æ§åˆ¶ï¼ˆåŒç‚¹ï¼‰"></a>å¤šç‚¹æ§åˆ¶ï¼ˆåŒç‚¹ï¼‰</h4><center><img src="/2017/04/05/iOS-UIBezierPathç»˜åˆ¶çš„ç®€å•ä½¿ç”¨/brizerDouble.jpg" alt="logo"></center>

<p>å¤šç‚¹æ§åˆ¶å’Œå•ç‚¹æ§åˆ¶ä¸€æ ·ï¼Œç§»åŠ¨åˆ°èµ·ç‚¹ä½ç½®ä¹‹åï¼Œä½¿ç”¨ç³»ç»Ÿæä¾›çš„æ–¹æ³•ï¼Œæ·»åŠ ä¸¤ä¸ªæ§åˆ¶ç‚¹å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">UIBezierPath</span> *aPath = [[<span class="built_in">UIBezierPath</span> alloc] init];</div><div class="line"></div><div class="line">[aPath moveToPoint: <span class="built_in">CGPointMake</span>(<span class="number">100</span>, <span class="number">200</span>)];</div><div class="line">[aPath addCurveToPoint:<span class="built_in">CGPointMake</span>(WIDTH<span class="number">-100</span>, <span class="number">200</span>) controlPoint1:<span class="built_in">CGPointMake</span>(WIDTH/<span class="number">2</span><span class="number">-100</span>, <span class="number">100</span>) controlPoint2:<span class="built_in">CGPointMake</span>(WIDTH/<span class="number">2</span>+<span class="number">100</span>, <span class="number">300</span>)];</div><div class="line">aPath.lineWidth = <span class="number">5.0</span>;</div><div class="line"></div><div class="line"><span class="built_in">UIBezierPath</span> *pointA = [<span class="built_in">UIBezierPath</span> bezierPathWithRect:<span class="built_in">CGRectMake</span>(WIDTH/<span class="number">2</span><span class="number">-102</span>, <span class="number">98</span>, <span class="number">4</span>, <span class="number">4</span>)];</div><div class="line">pointA.lineWidth = <span class="number">2</span>;</div><div class="line"></div><div class="line"><span class="built_in">UIBezierPath</span> *pointB = [<span class="built_in">UIBezierPath</span> bezierPathWithRect:<span class="built_in">CGRectMake</span>(WIDTH/<span class="number">2</span>+<span class="number">98</span>, <span class="number">298</span>, <span class="number">4</span>, <span class="number">4</span>)];</div><div class="line">pointB.lineWidth = <span class="number">2</span>;</div><div class="line"></div><div class="line"></div><div class="line"><span class="built_in">UIColor</span> *color = [<span class="built_in">UIColor</span> redColor];</div><div class="line">[color set];</div><div class="line"></div><div class="line">[aPath stroke];</div><div class="line">[pointA fill];</div><div class="line">[pointB fill];</div></pre></td></tr></table></figure>
<center><img src="/2017/04/05/iOS-UIBezierPathç»˜åˆ¶çš„ç®€å•ä½¿ç”¨/drawMyBezierWithTwoControlPoint.png" alt="logo"></center>


<p>ä»¥ä¸Šå°±æ˜¯UIBezierPathçš„ç®€å•ä½¿ç”¨ï¼Œä»…ä½œä¸ºä¸ªäººå­¦ä¹ ç¬”è®°ï¼Œå¦‚æœæœ‰ä»€ä¹ˆåœ°æ–¹å†™çš„ä¸å¯¹è¿˜è¯·å¤§ç¥ä»¬æ‰¹è¯„æŒ‡æ•™ã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="zhangzr" />
          <p class="site-author-name" itemprop="name">zhangzr</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhangzr</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  






  





  

  

  

  

</body>
</html>
